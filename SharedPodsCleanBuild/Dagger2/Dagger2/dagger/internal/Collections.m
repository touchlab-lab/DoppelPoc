//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/sourcejava/dagger/core/src/main/java/dagger/internal/Collections.java
//

#include "J2ObjC_source.h"
#include "dagger/internal/Collections.h"
#include "java/lang/Integer.h"
#include "java/util/LinkedHashMap.h"
#include "java/util/LinkedHashSet.h"

@interface DaggerInternalCollections ()

- (instancetype)init;

+ (jint)calculateInitialCapacityWithInt:(jint)expectedSize;

@end

inline jint DaggerInternalCollections_get_MAX_POWER_OF_TWO();
#define DaggerInternalCollections_MAX_POWER_OF_TWO 1073741824
J2OBJC_STATIC_FIELD_CONSTANT(DaggerInternalCollections, MAX_POWER_OF_TWO, jint)

__attribute__((unused)) static void DaggerInternalCollections_init(DaggerInternalCollections *self);

__attribute__((unused)) static DaggerInternalCollections *new_DaggerInternalCollections_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static DaggerInternalCollections *create_DaggerInternalCollections_init();

__attribute__((unused)) static jint DaggerInternalCollections_calculateInitialCapacityWithInt_(jint expectedSize);

@implementation DaggerInternalCollections

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  DaggerInternalCollections_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (JavaUtilLinkedHashSet *)newLinkedHashSetWithExpectedSizeWithInt:(jint)expectedSize {
  return DaggerInternalCollections_newLinkedHashSetWithExpectedSizeWithInt_(expectedSize);
}

+ (JavaUtilLinkedHashMap *)newLinkedHashMapWithExpectedSizeWithInt:(jint)expectedSize {
  return DaggerInternalCollections_newLinkedHashMapWithExpectedSizeWithInt_(expectedSize);
}

+ (jint)calculateInitialCapacityWithInt:(jint)expectedSize {
  return DaggerInternalCollections_calculateInitialCapacityWithInt_(expectedSize);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "Collections", NULL, 0x2, NULL, NULL },
    { "newLinkedHashSetWithExpectedSizeWithInt:", "newLinkedHashSetWithExpectedSize", "Ljava.util.LinkedHashSet;", 0x8, NULL, "<E:Ljava/lang/Object;>(I)Ljava/util/LinkedHashSet<TE;>;" },
    { "newLinkedHashMapWithExpectedSizeWithInt:", "newLinkedHashMapWithExpectedSize", "Ljava.util.LinkedHashMap;", 0x8, NULL, "<K:Ljava/lang/Object;V:Ljava/lang/Object;>(I)Ljava/util/LinkedHashMap<TK;TV;>;" },
    { "calculateInitialCapacityWithInt:", "calculateInitialCapacity", "I", 0xa, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "MAX_POWER_OF_TWO", "MAX_POWER_OF_TWO", 0x1a, "I", NULL, NULL, .constantValue.asInt = DaggerInternalCollections_MAX_POWER_OF_TWO },
  };
  static const J2ObjcClassInfo _DaggerInternalCollections = { 2, "Collections", "dagger.internal", NULL, 0x10, 4, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_DaggerInternalCollections;
}

@end

void DaggerInternalCollections_init(DaggerInternalCollections *self) {
  NSObject_init(self);
}

DaggerInternalCollections *new_DaggerInternalCollections_init() {
  DaggerInternalCollections *self = [DaggerInternalCollections alloc];
  DaggerInternalCollections_init(self);
  return self;
}

DaggerInternalCollections *create_DaggerInternalCollections_init() {
  return new_DaggerInternalCollections_init();
}

JavaUtilLinkedHashSet *DaggerInternalCollections_newLinkedHashSetWithExpectedSizeWithInt_(jint expectedSize) {
  DaggerInternalCollections_initialize();
  return new_JavaUtilLinkedHashSet_initWithInt_(DaggerInternalCollections_calculateInitialCapacityWithInt_(expectedSize));
}

JavaUtilLinkedHashMap *DaggerInternalCollections_newLinkedHashMapWithExpectedSizeWithInt_(jint expectedSize) {
  DaggerInternalCollections_initialize();
  return new_JavaUtilLinkedHashMap_initWithInt_(DaggerInternalCollections_calculateInitialCapacityWithInt_(expectedSize));
}

jint DaggerInternalCollections_calculateInitialCapacityWithInt_(jint expectedSize) {
  DaggerInternalCollections_initialize();
  if (expectedSize < 3) {
    return expectedSize + 1;
  }
  if (expectedSize < DaggerInternalCollections_MAX_POWER_OF_TWO) {
    return JreFpToInt((expectedSize / 0.75f + 1.0f));
  }
  return JavaLangInteger_MAX_VALUE;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(DaggerInternalCollections)
