//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/RxJava/src/main/java/rx/internal/operators/OnSubscribeUsing.java
//

#include "J2ObjC_source.h"
#include "rx/Observable.h"
#include "rx/Subscriber.h"
#include "rx/Subscription.h"
#include "rx/functions/Action0.h"
#include "rx/functions/Action1.h"
#include "rx/functions/Func0.h"
#include "rx/functions/Func1.h"
#include "rx/internal/operators/OnSubscribeUsing.h"
#include "rx/subscriptions/Subscriptions.h"

@interface RxInternalOperatorsOnSubscribeUsing () {
 @public
  id<RxFunctionsFunc0> resourceFactory_;
  id<RxFunctionsFunc1> observableFactory_;
  id<RxFunctionsAction1> dispose_;
}

@end

J2OBJC_FIELD_SETTER(RxInternalOperatorsOnSubscribeUsing, resourceFactory_, id<RxFunctionsFunc0>)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOnSubscribeUsing, observableFactory_, id<RxFunctionsFunc1>)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOnSubscribeUsing, dispose_, id<RxFunctionsAction1>)

@interface RxInternalOperatorsOnSubscribeUsing_$1 : NSObject < RxFunctionsAction0 > {
 @public
  RxInternalOperatorsOnSubscribeUsing *this$0_;
  id val$resource_;
}

- (void)call;

- (instancetype)initWithRxInternalOperatorsOnSubscribeUsing:(RxInternalOperatorsOnSubscribeUsing *)outer$
                                                     withId:(id)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOnSubscribeUsing_$1)

J2OBJC_FIELD_SETTER(RxInternalOperatorsOnSubscribeUsing_$1, this$0_, RxInternalOperatorsOnSubscribeUsing *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOnSubscribeUsing_$1, val$resource_, id)

__attribute__((unused)) static void RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(RxInternalOperatorsOnSubscribeUsing_$1 *self, RxInternalOperatorsOnSubscribeUsing *outer$, id capture$0);

__attribute__((unused)) static RxInternalOperatorsOnSubscribeUsing_$1 *new_RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(RxInternalOperatorsOnSubscribeUsing *outer$, id capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOnSubscribeUsing_$1 *create_RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(RxInternalOperatorsOnSubscribeUsing *outer$, id capture$0);

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOnSubscribeUsing_$1)

@implementation RxInternalOperatorsOnSubscribeUsing

- (instancetype)initWithRxFunctionsFunc0:(id<RxFunctionsFunc0>)resourceFactory
                    withRxFunctionsFunc1:(id<RxFunctionsFunc1>)observableFactory
                  withRxFunctionsAction1:(id<RxFunctionsAction1>)dispose {
  RxInternalOperatorsOnSubscribeUsing_initWithRxFunctionsFunc0_withRxFunctionsFunc1_withRxFunctionsAction1_(self, resourceFactory, observableFactory, dispose);
  return self;
}

- (void)callWithId:(RxSubscriber *)subscriber {
  @try {
    id resource = [((id<RxFunctionsFunc0>) nil_chk(resourceFactory_)) call];
    [((RxSubscriber *) nil_chk(subscriber)) addWithRxSubscription:RxSubscriptionsSubscriptions_createWithRxFunctionsAction0_(new_RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(self, resource))];
    RxObservable *observable = [((id<RxFunctionsFunc1>) nil_chk(observableFactory_)) callWithId:resource];
    (void) [((RxObservable *) nil_chk(observable)) subscribeWithRxSubscriber:subscriber];
  }
  @catch (NSException *e) {
    [((RxSubscriber *) nil_chk(subscriber)) unsubscribe];
    [subscriber onErrorWithNSException:e];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithRxFunctionsFunc0:withRxFunctionsFunc1:withRxFunctionsAction1:", "OnSubscribeUsing", NULL, 0x1, NULL, "(Lrx/functions/Func0<TResource;>;Lrx/functions/Func1<-TResource;+Lrx/Observable<+TT;>;>;Lrx/functions/Action1<-TResource;>;)V" },
    { "callWithId:", "call", "V", 0x1, NULL, "(Lrx/Subscriber<-TT;>;)V" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "resourceFactory_", NULL, 0x12, "Lrx.functions.Func0;", NULL, "Lrx/functions/Func0<TResource;>;", .constantValue.asLong = 0 },
    { "observableFactory_", NULL, 0x12, "Lrx.functions.Func1;", NULL, "Lrx/functions/Func1<-TResource;+Lrx/Observable<+TT;>;>;", .constantValue.asLong = 0 },
    { "dispose_", NULL, 0x12, "Lrx.functions.Action1;", NULL, "Lrx/functions/Action1<-TResource;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _RxInternalOperatorsOnSubscribeUsing = { 2, "OnSubscribeUsing", "rx.internal.operators", NULL, 0x11, 2, methods, 3, fields, 0, NULL, 0, NULL, NULL, "<T:Ljava/lang/Object;Resource:Ljava/lang/Object;>Ljava/lang/Object;Lrx/Observable$OnSubscribe<TT;>;" };
  return &_RxInternalOperatorsOnSubscribeUsing;
}

@end

void RxInternalOperatorsOnSubscribeUsing_initWithRxFunctionsFunc0_withRxFunctionsFunc1_withRxFunctionsAction1_(RxInternalOperatorsOnSubscribeUsing *self, id<RxFunctionsFunc0> resourceFactory, id<RxFunctionsFunc1> observableFactory, id<RxFunctionsAction1> dispose) {
  NSObject_init(self);
  self->resourceFactory_ = resourceFactory;
  self->observableFactory_ = observableFactory;
  self->dispose_ = dispose;
}

RxInternalOperatorsOnSubscribeUsing *new_RxInternalOperatorsOnSubscribeUsing_initWithRxFunctionsFunc0_withRxFunctionsFunc1_withRxFunctionsAction1_(id<RxFunctionsFunc0> resourceFactory, id<RxFunctionsFunc1> observableFactory, id<RxFunctionsAction1> dispose) {
  RxInternalOperatorsOnSubscribeUsing *self = [RxInternalOperatorsOnSubscribeUsing alloc];
  RxInternalOperatorsOnSubscribeUsing_initWithRxFunctionsFunc0_withRxFunctionsFunc1_withRxFunctionsAction1_(self, resourceFactory, observableFactory, dispose);
  return self;
}

RxInternalOperatorsOnSubscribeUsing *create_RxInternalOperatorsOnSubscribeUsing_initWithRxFunctionsFunc0_withRxFunctionsFunc1_withRxFunctionsAction1_(id<RxFunctionsFunc0> resourceFactory, id<RxFunctionsFunc1> observableFactory, id<RxFunctionsAction1> dispose) {
  return new_RxInternalOperatorsOnSubscribeUsing_initWithRxFunctionsFunc0_withRxFunctionsFunc1_withRxFunctionsAction1_(resourceFactory, observableFactory, dispose);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOnSubscribeUsing)

@implementation RxInternalOperatorsOnSubscribeUsing_$1

- (void)call {
  [((id<RxFunctionsAction1>) nil_chk(this$0_->dispose_)) callWithId:val$resource_];
}

- (instancetype)initWithRxInternalOperatorsOnSubscribeUsing:(RxInternalOperatorsOnSubscribeUsing *)outer$
                                                     withId:(id)capture$0 {
  RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "call", NULL, "V", 0x1, NULL, NULL },
    { "initWithRxInternalOperatorsOnSubscribeUsing:withId:", "", NULL, 0x0, NULL, "(Lrx/internal/operators/OnSubscribeUsing;TResource;)V" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lrx.internal.operators.OnSubscribeUsing;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$resource_", NULL, 0x1012, "TResource;", NULL, "TResource;", .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RxInternalOperatorsOnSubscribeUsing", "callWithId:" };
  static const J2ObjcClassInfo _RxInternalOperatorsOnSubscribeUsing_$1 = { 2, "", "rx.internal.operators", "OnSubscribeUsing", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_RxInternalOperatorsOnSubscribeUsing_$1;
}

@end

void RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(RxInternalOperatorsOnSubscribeUsing_$1 *self, RxInternalOperatorsOnSubscribeUsing *outer$, id capture$0) {
  self->this$0_ = outer$;
  self->val$resource_ = capture$0;
  NSObject_init(self);
}

RxInternalOperatorsOnSubscribeUsing_$1 *new_RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(RxInternalOperatorsOnSubscribeUsing *outer$, id capture$0) {
  RxInternalOperatorsOnSubscribeUsing_$1 *self = [RxInternalOperatorsOnSubscribeUsing_$1 alloc];
  RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(self, outer$, capture$0);
  return self;
}

RxInternalOperatorsOnSubscribeUsing_$1 *create_RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(RxInternalOperatorsOnSubscribeUsing *outer$, id capture$0) {
  return new_RxInternalOperatorsOnSubscribeUsing_$1_initWithRxInternalOperatorsOnSubscribeUsing_withId_(outer$, capture$0);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOnSubscribeUsing_$1)
