//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/RxJava/src/main/java/rx/internal/operators/OperatorGroupBy.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalStateException.h"
#include "java/util/Collection.h"
#include "java/util/Queue.h"
#include "java/util/concurrent/ConcurrentHashMap.h"
#include "java/util/concurrent/ConcurrentLinkedQueue.h"
#include "java/util/concurrent/atomic/AtomicBoolean.h"
#include "java/util/concurrent/atomic/AtomicIntegerFieldUpdater.h"
#include "java/util/concurrent/atomic/AtomicLong.h"
#include "java/util/concurrent/atomic/AtomicLongFieldUpdater.h"
#include "rx/Observable.h"
#include "rx/Observer.h"
#include "rx/Producer.h"
#include "rx/Subscriber.h"
#include "rx/Subscription.h"
#include "rx/exceptions/OnErrorThrowable.h"
#include "rx/functions/Action0.h"
#include "rx/functions/Func1.h"
#include "rx/internal/operators/BufferUntilSubscriber.h"
#include "rx/internal/operators/NotificationLite.h"
#include "rx/internal/operators/OperatorGroupBy.h"
#include "rx/observables/GroupedObservable.h"
#include "rx/subjects/Subject.h"

@class RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState;

inline id<RxFunctionsFunc1> RxInternalOperatorsOperatorGroupBy_get_IDENTITY();
static id<RxFunctionsFunc1> RxInternalOperatorsOperatorGroupBy_IDENTITY;
J2OBJC_STATIC_FIELD_OBJ_FINAL(RxInternalOperatorsOperatorGroupBy, IDENTITY, id<RxFunctionsFunc1>)

@interface RxInternalOperatorsOperatorGroupBy_GroupBySubscriber () {
 @public
  JavaUtilConcurrentConcurrentHashMap *groups_;
}

- (RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)createNewGroupWithId:(id)key;

- (void)cleanupGroupWithId:(id)key;

- (void)emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)groupState
                                                                             withId:(id)item;

- (void)pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)groupState;

- (void)requestMoreIfNecessary;

- (void)drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)groupState;

- (void)completeInner;

@end

J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber, groups_, JavaUtilConcurrentConcurrentHashMap *)

inline jint RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_get_MAX_QUEUE_SIZE();
#define RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_MAX_QUEUE_SIZE 1024
J2OBJC_STATIC_FIELD_CONSTANT(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber, MAX_QUEUE_SIZE, jint)

inline RxInternalOperatorsNotificationLite *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_get_nl();
static RxInternalOperatorsNotificationLite *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl;
J2OBJC_STATIC_FIELD_OBJ_FINAL(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber, nl, RxInternalOperatorsNotificationLite *)

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_createNewGroupWithId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, id key);

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_cleanupGroupWithId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, id key);

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState, id item);

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState);

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_requestMoreIfNecessary(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self);

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState);

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_completeInner(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self);

@interface RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState : NSObject {
 @public
  RxSubjectsSubject *s_;
  JavaUtilConcurrentAtomicAtomicLong *requested_;
  JavaUtilConcurrentAtomicAtomicLong *count_;
  id<JavaUtilQueue> buffer_;
}

- (RxObservable *)getObservable;

- (id<RxObserver>)getObserver;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState)

J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState, s_, RxSubjectsSubject *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState, requested_, JavaUtilConcurrentAtomicAtomicLong *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState, count_, JavaUtilConcurrentAtomicAtomicLong *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState, buffer_, id<JavaUtilQueue>)

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *self);

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init();

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState)

@interface RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 : NSObject < RxObservable_OnSubscribe > {
 @public
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *this$0_;
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *val$groupState_;
  id val$key_;
}

- (void)callWithId:(RxSubscriber *)o;

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *)outer$
         withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)capture$0
                                                                      withId:(id)capture$1;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1)

J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1, this$0_, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1, val$groupState_, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1, val$key_, id)

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *outer$, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *capture$0, id capture$1);

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *outer$, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *capture$0, id capture$1) NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *outer$, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *capture$0, id capture$1);

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1)

@interface RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 : NSObject < RxProducer > {
 @public
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *this$0_;
}

- (void)requestWithLong:(jlong)n;

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1)

J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1, this$0_, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$);

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$);

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1)

@interface RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 : NSObject < RxFunctionsAction0 > {
 @public
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *this$0_;
  JavaUtilConcurrentAtomicAtomicBoolean *val$once_;
}

- (void)call;

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)outer$
                                      withJavaUtilConcurrentAtomicAtomicBoolean:(JavaUtilConcurrentAtomicAtomicBoolean *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2)

J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2, this$0_, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2, val$once_, JavaUtilConcurrentAtomicAtomicBoolean *)

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, JavaUtilConcurrentAtomicAtomicBoolean *capture$0);

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, JavaUtilConcurrentAtomicAtomicBoolean *capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, JavaUtilConcurrentAtomicAtomicBoolean *capture$0);

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2)

@interface RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 : RxSubscriber {
 @public
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *this$0_;
  RxSubscriber *val$o_;
  JavaUtilConcurrentAtomicAtomicBoolean *val$once_;
}

- (void)onCompleted;

- (void)onErrorWithNSException:(NSException *)e;
#ifdef J2OBJC_RENAME_ALIASES
#define onErrorWithJavaLangThrowable onErrorWithNSException
#endif // J2OBJC_RENAME_ALIASES

- (void)onNextWithId:(id)t;

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)outer$
                                                               withRxSubscriber:(RxSubscriber *)capture$0
                                      withJavaUtilConcurrentAtomicAtomicBoolean:(JavaUtilConcurrentAtomicAtomicBoolean *)capture$1
                                                               withRxSubscriber:(RxSubscriber *)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3)

J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3, this$0_, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3, val$o_, RxSubscriber *)
J2OBJC_FIELD_SETTER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3, val$once_, JavaUtilConcurrentAtomicAtomicBoolean *)

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, RxSubscriber *capture$0, JavaUtilConcurrentAtomicAtomicBoolean *capture$1, RxSubscriber *arg$0);

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, RxSubscriber *capture$0, JavaUtilConcurrentAtomicAtomicBoolean *capture$1, RxSubscriber *arg$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, RxSubscriber *capture$0, JavaUtilConcurrentAtomicAtomicBoolean *capture$1, RxSubscriber *arg$0);

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3)

@interface RxInternalOperatorsOperatorGroupBy_$1 : NSObject < RxFunctionsFunc1 >

- (id)callWithId:(id)t;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(RxInternalOperatorsOperatorGroupBy_$1)

__attribute__((unused)) static void RxInternalOperatorsOperatorGroupBy_$1_init(RxInternalOperatorsOperatorGroupBy_$1 *self);

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_$1 *new_RxInternalOperatorsOperatorGroupBy_$1_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static RxInternalOperatorsOperatorGroupBy_$1 *create_RxInternalOperatorsOperatorGroupBy_$1_init();

J2OBJC_TYPE_LITERAL_HEADER(RxInternalOperatorsOperatorGroupBy_$1)

J2OBJC_INITIALIZED_DEFN(RxInternalOperatorsOperatorGroupBy)

@implementation RxInternalOperatorsOperatorGroupBy

- (instancetype)initWithRxFunctionsFunc1:(id<RxFunctionsFunc1>)keySelector {
  RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_(self, keySelector);
  return self;
}

- (instancetype)initWithRxFunctionsFunc1:(id<RxFunctionsFunc1>)keySelector
                    withRxFunctionsFunc1:(id<RxFunctionsFunc1>)valueSelector {
  RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(self, keySelector, valueSelector);
  return self;
}

- (RxSubscriber *)callWithId:(RxSubscriber *)child {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(keySelector_, valueSelector_, child);
}

+ (void)initialize {
  if (self == [RxInternalOperatorsOperatorGroupBy class]) {
    RxInternalOperatorsOperatorGroupBy_IDENTITY = new_RxInternalOperatorsOperatorGroupBy_$1_init();
    J2OBJC_SET_INITIALIZED(RxInternalOperatorsOperatorGroupBy)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithRxFunctionsFunc1:", "OperatorGroupBy", NULL, 0x1, NULL, "(Lrx/functions/Func1<-TT;+TK;>;)V" },
    { "initWithRxFunctionsFunc1:withRxFunctionsFunc1:", "OperatorGroupBy", NULL, 0x1, NULL, "(Lrx/functions/Func1<-TT;+TK;>;Lrx/functions/Func1<-TT;+TR;>;)V" },
    { "callWithId:", "call", "Lrx.Subscriber;", 0x1, NULL, "(Lrx/Subscriber<-Lrx/observables/GroupedObservable<TK;TR;>;>;)Lrx/Subscriber<-TT;>;" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "keySelector_", NULL, 0x10, "Lrx.functions.Func1;", NULL, "Lrx/functions/Func1<-TT;+TK;>;", .constantValue.asLong = 0 },
    { "valueSelector_", NULL, 0x10, "Lrx.functions.Func1;", NULL, "Lrx/functions/Func1<-TT;+TR;>;", .constantValue.asLong = 0 },
    { "IDENTITY", "IDENTITY", 0x1a, "Lrx.functions.Func1;", &RxInternalOperatorsOperatorGroupBy_IDENTITY, "Lrx/functions/Func1<Ljava/lang/Object;Ljava/lang/Object;>;", .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber;"};
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy = { 2, "OperatorGroupBy", "rx.internal.operators", NULL, 0x1, 3, methods, 3, fields, 0, NULL, 1, inner_classes, NULL, "<T:Ljava/lang/Object;K:Ljava/lang/Object;R:Ljava/lang/Object;>Ljava/lang/Object;Lrx/Observable$Operator<Lrx/observables/GroupedObservable<TK;TR;>;TT;>;" };
  return &_RxInternalOperatorsOperatorGroupBy;
}

@end

void RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_(RxInternalOperatorsOperatorGroupBy *self, id<RxFunctionsFunc1> keySelector) {
  RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(self, keySelector, RxInternalOperatorsOperatorGroupBy_IDENTITY);
}

RxInternalOperatorsOperatorGroupBy *new_RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_(id<RxFunctionsFunc1> keySelector) {
  RxInternalOperatorsOperatorGroupBy *self = [RxInternalOperatorsOperatorGroupBy alloc];
  RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_(self, keySelector);
  return self;
}

RxInternalOperatorsOperatorGroupBy *create_RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_(id<RxFunctionsFunc1> keySelector) {
  return new_RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_(keySelector);
}

void RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(RxInternalOperatorsOperatorGroupBy *self, id<RxFunctionsFunc1> keySelector, id<RxFunctionsFunc1> valueSelector) {
  NSObject_init(self);
  self->keySelector_ = keySelector;
  self->valueSelector_ = valueSelector;
}

RxInternalOperatorsOperatorGroupBy *new_RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(id<RxFunctionsFunc1> keySelector, id<RxFunctionsFunc1> valueSelector) {
  RxInternalOperatorsOperatorGroupBy *self = [RxInternalOperatorsOperatorGroupBy alloc];
  RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(self, keySelector, valueSelector);
  return self;
}

RxInternalOperatorsOperatorGroupBy *create_RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(id<RxFunctionsFunc1> keySelector, id<RxFunctionsFunc1> valueSelector) {
  return new_RxInternalOperatorsOperatorGroupBy_initWithRxFunctionsFunc1_withRxFunctionsFunc1_(keySelector, valueSelector);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy)

J2OBJC_INITIALIZED_DEFN(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber)

JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_COMPLETION_EMITTED_UPDATER;
JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_TERMINATED_UPDATER;
JavaUtilConcurrentAtomicAtomicLongFieldUpdater *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED;
JavaUtilConcurrentAtomicAtomicLongFieldUpdater *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT;

@implementation RxInternalOperatorsOperatorGroupBy_GroupBySubscriber

- (instancetype)initWithRxFunctionsFunc1:(id<RxFunctionsFunc1>)keySelector
                    withRxFunctionsFunc1:(id<RxFunctionsFunc1>)elementSelector
                        withRxSubscriber:(RxSubscriber *)child {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(self, keySelector, elementSelector, child);
  return self;
}

- (void)onStart {
  [((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED)) setWithId:self withLong:RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_MAX_QUEUE_SIZE];
  [self requestWithLong:RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_MAX_QUEUE_SIZE];
}

- (void)onCompleted {
  if ([((JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_TERMINATED_UPDATER)) compareAndSetWithId:self withInt:0 withInt:1]) {
    for (RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState * __strong group in nil_chk([((JavaUtilConcurrentConcurrentHashMap *) nil_chk(groups_)) values])) {
      RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(self, group, [((RxInternalOperatorsNotificationLite *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl)) completed]);
    }
    if ([groups_ size] == 0) {
      if ([((JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_COMPLETION_EMITTED_UPDATER)) compareAndSetWithId:self withInt:0 withInt:1]) {
        [((RxSubscriber *) nil_chk(child_)) onCompleted];
      }
    }
  }
}

- (void)onErrorWithNSException:(NSException *)e {
  if ([((JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_TERMINATED_UPDATER)) compareAndSetWithId:self withInt:0 withInt:1]) {
    [((RxSubscriber *) nil_chk(child_)) onErrorWithNSException:e];
  }
}

- (void)requestFromGroupedObservableWithLong:(jlong)n
withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)group {
  [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(((RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *) nil_chk(group))->requested_)) getAndAddWithLong:n];
  if ([((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(group->count_)) getAndIncrement] == 0) {
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(self, group);
  }
}

- (void)onNextWithId:(id)t {
  @try {
    id key = [((id<RxFunctionsFunc1>) nil_chk(keySelector_)) callWithId:t];
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *group = [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(groups_)) getWithId:key];
    if (group == nil) {
      if ([((RxSubscriber *) nil_chk(child_)) isUnsubscribed]) {
        return;
      }
      group = RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_createNewGroupWithId_(self, key);
    }
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(self, group, [((RxInternalOperatorsNotificationLite *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl)) nextWithId:t]);
  }
  @catch (NSException *e) {
    [self onErrorWithNSException:RxExceptionsOnErrorThrowable_addValueAsLastCauseWithNSException_withId_(e, t)];
  }
}

- (RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)createNewGroupWithId:(id)key {
  return RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_createNewGroupWithId_(self, key);
}

- (void)cleanupGroupWithId:(id)key {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_cleanupGroupWithId_(self, key);
}

- (void)emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)groupState
                                                                             withId:(id)item {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(self, groupState, item);
}

- (void)pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)groupState {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(self, groupState);
}

- (void)requestMoreIfNecessary {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_requestMoreIfNecessary(self);
}

- (void)drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)groupState {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(self, groupState);
}

- (void)completeInner {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_completeInner(self);
}

+ (void)initialize {
  if (self == [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber class]) {
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl = RxInternalOperatorsNotificationLite_instance();
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_COMPLETION_EMITTED_UPDATER = JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater_newUpdaterWithIOSClass_withNSString_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_class_(), @"completionEmitted");
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_TERMINATED_UPDATER = JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater_newUpdaterWithIOSClass_withNSString_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_class_(), @"terminated");
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED = JavaUtilConcurrentAtomicAtomicLongFieldUpdater_newUpdaterWithIOSClass_withNSString_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_class_(), @"requested");
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT = JavaUtilConcurrentAtomicAtomicLongFieldUpdater_newUpdaterWithIOSClass_withNSString_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_class_(), @"bufferedCount");
    J2OBJC_SET_INITIALIZED(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithRxFunctionsFunc1:withRxFunctionsFunc1:withRxSubscriber:", "GroupBySubscriber", NULL, 0x1, NULL, "(Lrx/functions/Func1<-TT;+TK;>;Lrx/functions/Func1<-TT;+TR;>;Lrx/Subscriber<-Lrx/observables/GroupedObservable<TK;TR;>;>;)V" },
    { "onStart", NULL, "V", 0x1, NULL, NULL },
    { "onCompleted", NULL, "V", 0x1, NULL, NULL },
    { "onErrorWithNSException:", "onError", "V", 0x1, NULL, NULL },
    { "requestFromGroupedObservableWithLong:withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:", "requestFromGroupedObservable", "V", 0x0, NULL, "(JLrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;)V" },
    { "onNextWithId:", "onNext", "V", 0x1, NULL, "(TT;)V" },
    { "createNewGroupWithId:", "createNewGroup", "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber$GroupState;", 0x2, NULL, "(TK;)Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;" },
    { "cleanupGroupWithId:", "cleanupGroup", "V", 0x2, NULL, "(TK;)V" },
    { "emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:withId:", "emitItem", "V", 0x2, NULL, "(Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;Ljava/lang/Object;)V" },
    { "pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:", "pollQueue", "V", 0x2, NULL, "(Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;)V" },
    { "requestMoreIfNecessary", NULL, "V", 0x2, NULL, NULL },
    { "drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:", "drainIfPossible", "V", 0x2, NULL, "(Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;)V" },
    { "completeInner", NULL, "V", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "MAX_QUEUE_SIZE", "MAX_QUEUE_SIZE", 0x1a, "I", NULL, NULL, .constantValue.asInt = RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_MAX_QUEUE_SIZE },
    { "self__", "self", 0x10, "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber;", NULL, "Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber<TK;TT;TR;>;", .constantValue.asLong = 0 },
    { "keySelector_", NULL, 0x10, "Lrx.functions.Func1;", NULL, "Lrx/functions/Func1<-TT;+TK;>;", .constantValue.asLong = 0 },
    { "elementSelector_", NULL, 0x10, "Lrx.functions.Func1;", NULL, "Lrx/functions/Func1<-TT;+TR;>;", .constantValue.asLong = 0 },
    { "child_", NULL, 0x10, "Lrx.Subscriber;", NULL, "Lrx/Subscriber<-Lrx/observables/GroupedObservable<TK;TR;>;>;", .constantValue.asLong = 0 },
    { "groups_", NULL, 0x12, "Ljava.util.concurrent.ConcurrentHashMap;", NULL, "Ljava/util/concurrent/ConcurrentHashMap<TK;Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;>;", .constantValue.asLong = 0 },
    { "nl", "nl", 0x1a, "Lrx.internal.operators.NotificationLite;", &RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl, "Lrx/internal/operators/NotificationLite<Ljava/lang/Object;>;", .constantValue.asLong = 0 },
    { "completionEmitted_", NULL, 0x40, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "terminated_", NULL, 0x40, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "COMPLETION_EMITTED_UPDATER", "COMPLETION_EMITTED_UPDATER", 0x18, "Ljava.util.concurrent.atomic.AtomicIntegerFieldUpdater;", &RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_COMPLETION_EMITTED_UPDATER, "Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater<Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber;>;", .constantValue.asLong = 0 },
    { "TERMINATED_UPDATER", "TERMINATED_UPDATER", 0x18, "Ljava.util.concurrent.atomic.AtomicIntegerFieldUpdater;", &RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_TERMINATED_UPDATER, "Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater<Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber;>;", .constantValue.asLong = 0 },
    { "requested_GroupBySubscriber_", "requested", 0x40, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "REQUESTED", "REQUESTED", 0x18, "Ljava.util.concurrent.atomic.AtomicLongFieldUpdater;", &RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED, "Ljava/util/concurrent/atomic/AtomicLongFieldUpdater<Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber;>;", .constantValue.asLong = 0 },
    { "bufferedCount_", NULL, 0x40, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "BUFFERED_COUNT", "BUFFERED_COUNT", 0x18, "Ljava.util.concurrent.atomic.AtomicLongFieldUpdater;", &RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT, "Ljava/util/concurrent/atomic/AtomicLongFieldUpdater<Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber;>;", .constantValue.asLong = 0 },
  };
  static const char *superclass_type_args[] = {"TT;"};
  static const char *inner_classes[] = {"Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber$GroupState;"};
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_GroupBySubscriber = { 2, "GroupBySubscriber", "rx.internal.operators", "OperatorGroupBy", 0x18, 13, methods, 15, fields, 1, superclass_type_args, 1, inner_classes, NULL, "<K:Ljava/lang/Object;T:Ljava/lang/Object;R:Ljava/lang/Object;>Lrx/Subscriber<TT;>;" };
  return &_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber;
}

@end

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, id<RxFunctionsFunc1> keySelector, id<RxFunctionsFunc1> elementSelector, RxSubscriber *child) {
  RxSubscriber_init(self);
  self->self__ = self;
  self->groups_ = new_JavaUtilConcurrentConcurrentHashMap_init();
  self->keySelector_ = keySelector;
  self->elementSelector_ = elementSelector;
  self->child_ = child;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(id<RxFunctionsFunc1> keySelector, id<RxFunctionsFunc1> elementSelector, RxSubscriber *child) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self = [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber alloc];
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(self, keySelector, elementSelector, child);
  return self;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(id<RxFunctionsFunc1> keySelector, id<RxFunctionsFunc1> elementSelector, RxSubscriber *child) {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_initWithRxFunctionsFunc1_withRxFunctionsFunc1_withRxSubscriber_(keySelector, elementSelector, child);
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_createNewGroupWithId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, id key) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState = new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init();
  RxObservablesGroupedObservable *go = RxObservablesGroupedObservable_createWithId_withRxObservable_OnSubscribe_(key, new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(self, groupState, key));
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *putIfAbsent = [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->groups_)) putIfAbsentWithId:key withId:groupState];
  if (putIfAbsent != nil) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"Group already existed while creating a new one");
  }
  [((RxSubscriber *) nil_chk(self->child_)) onNextWithId:go];
  return groupState;
}

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_cleanupGroupWithId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, id key) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *removed;
  removed = [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->groups_)) removeWithId:key];
  if (removed != nil) {
    if ([((id<JavaUtilQueue>) nil_chk(removed->buffer_)) size] > 0) {
      [((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT)) addAndGetWithId:self->self__ withLong:-[removed->buffer_ size]];
    }
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_completeInner(self);
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_requestMoreIfNecessary(self);
  }
}

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_emitItemWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState, id item) {
  id<JavaUtilQueue> q = ((RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *) nil_chk(groupState))->buffer_;
  JavaUtilConcurrentAtomicAtomicLong *keyRequested = groupState->requested_;
  [((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED)) decrementAndGetWithId:self];
  if (keyRequested != nil && [keyRequested get] > 0 && (q == nil || [q isEmpty])) {
    id<RxObserver> obs = [groupState getObserver];
    [((RxInternalOperatorsNotificationLite *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl)) acceptWithRxObserver:obs withId:item];
    [keyRequested decrementAndGet];
  }
  else {
    [((id<JavaUtilQueue>) nil_chk(q)) addWithId:item];
    [((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT)) incrementAndGetWithId:self];
    if ([((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(groupState->count_)) getAndIncrement] == 0) {
      RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(self, groupState);
    }
  }
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_requestMoreIfNecessary(self);
}

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_pollQueueWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState) {
  do {
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(self, groupState);
    jlong c = [((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(((RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *) nil_chk(groupState))->count_)) decrementAndGet];
    if (c > 1) {
      [groupState->count_ setWithLong:1];
    }
  }
  while ([groupState->count_ get] > 0);
}

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_requestMoreIfNecessary(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self) {
  if ([((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED)) getWithId:self] == 0) {
    jlong toRequest = RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_MAX_QUEUE_SIZE - [((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT)) getWithId:self];
    if (toRequest > 0 && [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_REQUESTED compareAndSetWithId:self withLong:0 withLong:toRequest]) {
      [self requestWithLong:toRequest];
    }
  }
}

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_drainIfPossibleWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *groupState) {
  while ([((JavaUtilConcurrentAtomicAtomicLong *) nil_chk(((RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *) nil_chk(groupState))->requested_)) get] > 0) {
    id t = [((id<JavaUtilQueue>) nil_chk(groupState->buffer_)) poll];
    if (t != nil) {
      id<RxObserver> obs = [groupState getObserver];
      [((RxInternalOperatorsNotificationLite *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_nl)) acceptWithRxObserver:obs withId:t];
      [groupState->requested_ decrementAndGet];
      [((JavaUtilConcurrentAtomicAtomicLongFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_BUFFERED_COUNT)) decrementAndGetWithId:self];
      RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_requestMoreIfNecessary(self);
    }
    else {
      break;
    }
  }
}

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_completeInner(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *self) {
  if ([((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->groups_)) size] == 0 && (JreLoadVolatileInt(&self->terminated_) == 1 || [((RxSubscriber *) nil_chk(self->child_)) isUnsubscribed])) {
    if ([((JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *) nil_chk(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_COMPLETION_EMITTED_UPDATER)) compareAndSetWithId:self withInt:0 withInt:1]) {
      if ([((RxSubscriber *) nil_chk(self->child_)) isUnsubscribed]) {
        [self unsubscribe];
      }
      [self->child_ onCompleted];
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber)

@implementation RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState

- (RxObservable *)getObservable {
  return s_;
}

- (id<RxObserver>)getObserver {
  return s_;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getObservable", NULL, "Lrx.Observable;", 0x1, NULL, "()Lrx/Observable<TT;>;" },
    { "getObserver", NULL, "Lrx.Observer;", 0x1, NULL, "()Lrx/Observer<TT;>;" },
    { "init", NULL, NULL, 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "s_", NULL, 0x12, "Lrx.subjects.Subject;", NULL, "Lrx/subjects/Subject<TT;TT;>;", .constantValue.asLong = 0 },
    { "requested_", NULL, 0x12, "Ljava.util.concurrent.atomic.AtomicLong;", NULL, NULL, .constantValue.asLong = 0 },
    { "count_", NULL, 0x12, "Ljava.util.concurrent.atomic.AtomicLong;", NULL, NULL, .constantValue.asLong = 0 },
    { "buffer_", NULL, 0x12, "Ljava.util.Queue;", NULL, "Ljava/util/Queue<Ljava/lang/Object;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState = { 2, "GroupState", "rx.internal.operators", "OperatorGroupBy$GroupBySubscriber", 0xa, 3, methods, 4, fields, 0, NULL, 0, NULL, NULL, "<K:Ljava/lang/Object;T:Ljava/lang/Object;>Ljava/lang/Object;" };
  return &_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState;
}

@end

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *self) {
  NSObject_init(self);
  self->s_ = RxInternalOperatorsBufferUntilSubscriber_create();
  self->requested_ = new_JavaUtilConcurrentAtomicAtomicLong_init();
  self->count_ = new_JavaUtilConcurrentAtomicAtomicLong_init();
  self->buffer_ = new_JavaUtilConcurrentConcurrentLinkedQueue_init();
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init() {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *self = [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState alloc];
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init(self);
  return self;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init() {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_init();
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState)

@implementation RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1

- (void)callWithId:(RxSubscriber *)o {
  [((RxSubscriber *) nil_chk(o)) setProducerWithRxProducer:new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(self)];
  JavaUtilConcurrentAtomicAtomicBoolean *once = new_JavaUtilConcurrentAtomicAtomicBoolean_init();
  (void) [((RxObservable *) nil_chk([((RxObservable *) nil_chk([((RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *) nil_chk(val$groupState_)) getObservable])) doOnUnsubscribeWithRxFunctionsAction0:new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(self, once)])) unsafeSubscribeWithRxSubscriber:new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(self, o, once, o)];
}

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *)outer$
         withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *)capture$0
                                                                      withId:(id)capture$1 {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(self, outer$, capture$0, capture$1);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithId:", "call", "V", 0x1, NULL, "(Lrx/Subscriber<-TR;>;)V" },
    { "initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber:withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:withId:", "", NULL, 0x0, NULL, "(Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber;Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;TK;)V" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$groupState_", NULL, 0x1012, "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber$GroupState;", NULL, "Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$GroupState<TK;TT;>;", .constantValue.asLong = 0 },
    { "val$key_", NULL, 0x1012, "TK;", NULL, "TK;", .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RxInternalOperatorsOperatorGroupBy_GroupBySubscriber", "createNewGroupWithId:" };
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 = { 2, "", "rx.internal.operators", "OperatorGroupBy$GroupBySubscriber", 0x8008, 2, methods, 3, fields, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Lrx/Observable$OnSubscribe<TR;>;" };
  return &_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1;
}

@end

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *outer$, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *capture$0, id capture$1) {
  self->this$0_ = outer$;
  self->val$groupState_ = capture$0;
  self->val$key_ = capture$1;
  NSObject_init(self);
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *outer$, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *capture$0, id capture$1) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *self = [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 alloc];
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(self, outer$, capture$0, capture$1);
  return self;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber *outer$, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState *capture$0, id capture$1) {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState_withId_(outer$, capture$0, capture$1);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1)

@implementation RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1

- (void)requestWithLong:(jlong)n {
  [this$0_->this$0_ requestFromGroupedObservableWithLong:n withRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_GroupState:this$0_->val$groupState_];
}

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)outer$ {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "requestWithLong:", "request", "V", 0x1, NULL, NULL },
    { "initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber$1;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1", "callWithId:" };
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 = { 2, "", "rx.internal.operators", "OperatorGroupBy$GroupBySubscriber$", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1;
}

@end

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$) {
  self->this$0_ = outer$;
  NSObject_init(self);
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *self = [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 alloc];
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(self, outer$);
  return self;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$) {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_(outer$);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$1)

@implementation RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2

- (void)call {
  if ([((JavaUtilConcurrentAtomicAtomicBoolean *) nil_chk(val$once_)) compareAndSetWithBoolean:false withBoolean:true]) {
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_cleanupGroupWithId_(this$0_->this$0_, this$0_->val$key_);
  }
}

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)outer$
                                      withJavaUtilConcurrentAtomicAtomicBoolean:(JavaUtilConcurrentAtomicAtomicBoolean *)capture$0 {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "call", NULL, "V", 0x1, NULL, NULL },
    { "initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:withJavaUtilConcurrentAtomicAtomicBoolean:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber$1;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$once_", NULL, 0x1012, "Ljava.util.concurrent.atomic.AtomicBoolean;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1", "callWithId:" };
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 = { 2, "", "rx.internal.operators", "OperatorGroupBy$GroupBySubscriber$", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2;
}

@end

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, JavaUtilConcurrentAtomicAtomicBoolean *capture$0) {
  self->this$0_ = outer$;
  self->val$once_ = capture$0;
  NSObject_init(self);
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, JavaUtilConcurrentAtomicAtomicBoolean *capture$0) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *self = [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 alloc];
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(self, outer$, capture$0);
  return self;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, JavaUtilConcurrentAtomicAtomicBoolean *capture$0) {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withJavaUtilConcurrentAtomicAtomicBoolean_(outer$, capture$0);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$2)

@implementation RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3

- (void)onCompleted {
  [((RxSubscriber *) nil_chk(val$o_)) onCompleted];
  if ([((JavaUtilConcurrentAtomicAtomicBoolean *) nil_chk(val$once_)) compareAndSetWithBoolean:false withBoolean:true]) {
    RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_cleanupGroupWithId_(this$0_->this$0_, this$0_->val$key_);
  }
}

- (void)onErrorWithNSException:(NSException *)e {
  [((RxSubscriber *) nil_chk(val$o_)) onErrorWithNSException:e];
}

- (void)onNextWithId:(id)t {
  @try {
    [((RxSubscriber *) nil_chk(val$o_)) onNextWithId:[((id<RxFunctionsFunc1>) nil_chk(this$0_->this$0_->elementSelector_)) callWithId:t]];
  }
  @catch (NSException *e) {
    [self onErrorWithNSException:RxExceptionsOnErrorThrowable_addValueAsLastCauseWithNSException_withId_(e, t)];
  }
}

- (instancetype)initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *)outer$
                                                               withRxSubscriber:(RxSubscriber *)capture$0
                                      withJavaUtilConcurrentAtomicAtomicBoolean:(JavaUtilConcurrentAtomicAtomicBoolean *)capture$1
                                                               withRxSubscriber:(RxSubscriber *)arg$0 {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(self, outer$, capture$0, capture$1, arg$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onCompleted", NULL, "V", 0x1, NULL, NULL },
    { "onErrorWithNSException:", "onError", "V", 0x1, NULL, NULL },
    { "onNextWithId:", "onNext", "V", 0x1, NULL, "(TT;)V" },
    { "initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1:withRxSubscriber:withJavaUtilConcurrentAtomicAtomicBoolean:withRxSubscriber:", "", NULL, 0x0, NULL, "(Lrx/internal/operators/OperatorGroupBy$GroupBySubscriber$1;Lrx/Subscriber<-TR;>;Ljava/util/concurrent/atomic/AtomicBoolean;Lrx/Subscriber<*>;)V" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lrx.internal.operators.OperatorGroupBy$GroupBySubscriber$1;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$o_", NULL, 0x1012, "Lrx.Subscriber;", NULL, "Lrx/Subscriber<-TR;>;", .constantValue.asLong = 0 },
    { "val$once_", NULL, 0x1012, "Ljava.util.concurrent.atomic.AtomicBoolean;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *superclass_type_args[] = {"TT;"};
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1", "callWithId:" };
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 = { 2, "", "rx.internal.operators", "OperatorGroupBy$GroupBySubscriber$", 0x8008, 4, methods, 3, fields, 1, superclass_type_args, 0, NULL, &enclosing_method, "Lrx/Subscriber<TT;>;" };
  return &_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3;
}

@end

void RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *self, RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, RxSubscriber *capture$0, JavaUtilConcurrentAtomicAtomicBoolean *capture$1, RxSubscriber *arg$0) {
  self->this$0_ = outer$;
  self->val$o_ = capture$0;
  self->val$once_ = capture$1;
  RxSubscriber_initWithRxSubscriber_(self, arg$0);
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, RxSubscriber *capture$0, JavaUtilConcurrentAtomicAtomicBoolean *capture$1, RxSubscriber *arg$0) {
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *self = [RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 alloc];
  RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(self, outer$, capture$0, capture$1, arg$0);
  return self;
}

RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3 *create_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1 *outer$, RxSubscriber *capture$0, JavaUtilConcurrentAtomicAtomicBoolean *capture$1, RxSubscriber *arg$0) {
  return new_RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3_initWithRxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_withRxSubscriber_withJavaUtilConcurrentAtomicAtomicBoolean_withRxSubscriber_(outer$, capture$0, capture$1, arg$0);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_GroupBySubscriber_$1_$3)

@implementation RxInternalOperatorsOperatorGroupBy_$1

- (id)callWithId:(id)t {
  return t;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  RxInternalOperatorsOperatorGroupBy_$1_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithId:", "call", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _RxInternalOperatorsOperatorGroupBy_$1 = { 2, "", "rx.internal.operators", "OperatorGroupBy", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, "Ljava/lang/Object;Lrx/functions/Func1<Ljava/lang/Object;Ljava/lang/Object;>;" };
  return &_RxInternalOperatorsOperatorGroupBy_$1;
}

@end

void RxInternalOperatorsOperatorGroupBy_$1_init(RxInternalOperatorsOperatorGroupBy_$1 *self) {
  NSObject_init(self);
}

RxInternalOperatorsOperatorGroupBy_$1 *new_RxInternalOperatorsOperatorGroupBy_$1_init() {
  RxInternalOperatorsOperatorGroupBy_$1 *self = [RxInternalOperatorsOperatorGroupBy_$1 alloc];
  RxInternalOperatorsOperatorGroupBy_$1_init(self);
  return self;
}

RxInternalOperatorsOperatorGroupBy_$1 *create_RxInternalOperatorsOperatorGroupBy_$1_init() {
  return new_RxInternalOperatorsOperatorGroupBy_$1_init();
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxInternalOperatorsOperatorGroupBy_$1)
