//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/sourcejava/retrofit/retrofit/src/main/java/retrofit/CallbackRunnable.java
//

#include "J2ObjC_source.h"
#include "java/lang/Runnable.h"
#include "java/util/concurrent/Executor.h"
#include "retrofit/Callback.h"
#include "retrofit/CallbackRunnable.h"
#include "retrofit/ErrorHandler.h"
#include "retrofit/ResponseWrapper.h"
#include "retrofit/RetrofitError.h"
#include "retrofit/client/Response.h"

@interface RetrofitCallbackRunnable () {
 @public
  id<RetrofitCallback> callback_;
  id<JavaUtilConcurrentExecutor> callbackExecutor_;
  id<RetrofitErrorHandler> errorHandler_;
}

@end

J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable, callback_, id<RetrofitCallback>)
J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable, callbackExecutor_, id<JavaUtilConcurrentExecutor>)
J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable, errorHandler_, id<RetrofitErrorHandler>)

@interface RetrofitCallbackRunnable_$1 : NSObject < JavaLangRunnable > {
 @public
  RetrofitCallbackRunnable *this$0_;
  RetrofitResponseWrapper *val$wrapper_;
}

- (void)run;

- (instancetype)initWithRetrofitCallbackRunnable:(RetrofitCallbackRunnable *)outer$
                     withRetrofitResponseWrapper:(RetrofitResponseWrapper *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(RetrofitCallbackRunnable_$1)

J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable_$1, this$0_, RetrofitCallbackRunnable *)
J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable_$1, val$wrapper_, RetrofitResponseWrapper *)

__attribute__((unused)) static void RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(RetrofitCallbackRunnable_$1 *self, RetrofitCallbackRunnable *outer$, RetrofitResponseWrapper *capture$0);

__attribute__((unused)) static RetrofitCallbackRunnable_$1 *new_RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(RetrofitCallbackRunnable *outer$, RetrofitResponseWrapper *capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static RetrofitCallbackRunnable_$1 *create_RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(RetrofitCallbackRunnable *outer$, RetrofitResponseWrapper *capture$0);

J2OBJC_TYPE_LITERAL_HEADER(RetrofitCallbackRunnable_$1)

@interface RetrofitCallbackRunnable_$2 : NSObject < JavaLangRunnable > {
 @public
  RetrofitCallbackRunnable *this$0_;
  RetrofitRetrofitError *val$handled_;
}

- (void)run;

- (instancetype)initWithRetrofitCallbackRunnable:(RetrofitCallbackRunnable *)outer$
                       withRetrofitRetrofitError:(RetrofitRetrofitError *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(RetrofitCallbackRunnable_$2)

J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable_$2, this$0_, RetrofitCallbackRunnable *)
J2OBJC_FIELD_SETTER(RetrofitCallbackRunnable_$2, val$handled_, RetrofitRetrofitError *)

__attribute__((unused)) static void RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(RetrofitCallbackRunnable_$2 *self, RetrofitCallbackRunnable *outer$, RetrofitRetrofitError *capture$0);

__attribute__((unused)) static RetrofitCallbackRunnable_$2 *new_RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(RetrofitCallbackRunnable *outer$, RetrofitRetrofitError *capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static RetrofitCallbackRunnable_$2 *create_RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(RetrofitCallbackRunnable *outer$, RetrofitRetrofitError *capture$0);

J2OBJC_TYPE_LITERAL_HEADER(RetrofitCallbackRunnable_$2)

@implementation RetrofitCallbackRunnable

- (instancetype)initWithRetrofitCallback:(id<RetrofitCallback>)callback
          withJavaUtilConcurrentExecutor:(id<JavaUtilConcurrentExecutor>)callbackExecutor
                withRetrofitErrorHandler:(id<RetrofitErrorHandler>)errorHandler {
  RetrofitCallbackRunnable_initWithRetrofitCallback_withJavaUtilConcurrentExecutor_withRetrofitErrorHandler_(self, callback, callbackExecutor, errorHandler);
  return self;
}

- (void)run {
  @try {
    RetrofitResponseWrapper *wrapper = [self obtainResponse];
    [((id<JavaUtilConcurrentExecutor>) nil_chk(callbackExecutor_)) executeWithJavaLangRunnable:new_RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(self, wrapper)];
  }
  @catch (RetrofitRetrofitError *e) {
    NSException *cause = [((id<RetrofitErrorHandler>) nil_chk(errorHandler_)) handleErrorWithRetrofitRetrofitError:e];
    RetrofitRetrofitError *handled = cause == e ? e : RetrofitRetrofitError_unexpectedErrorWithNSString_withNSException_([((RetrofitRetrofitError *) nil_chk(e)) getUrl], cause);
    [((id<JavaUtilConcurrentExecutor>) nil_chk(callbackExecutor_)) executeWithJavaLangRunnable:new_RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(self, handled)];
  }
}

- (RetrofitResponseWrapper *)obtainResponse {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithRetrofitCallback:withJavaUtilConcurrentExecutor:withRetrofitErrorHandler:", "CallbackRunnable", NULL, 0x0, NULL, "(Lretrofit/Callback<TT;>;Ljava/util/concurrent/Executor;Lretrofit/ErrorHandler;)V" },
    { "run", NULL, "V", 0x11, NULL, NULL },
    { "obtainResponse", NULL, "Lretrofit.ResponseWrapper;", 0x401, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "callback_", NULL, 0x12, "Lretrofit.Callback;", NULL, "Lretrofit/Callback<TT;>;", .constantValue.asLong = 0 },
    { "callbackExecutor_", NULL, 0x12, "Ljava.util.concurrent.Executor;", NULL, NULL, .constantValue.asLong = 0 },
    { "errorHandler_", NULL, 0x12, "Lretrofit.ErrorHandler;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _RetrofitCallbackRunnable = { 2, "CallbackRunnable", "retrofit", NULL, 0x400, 3, methods, 3, fields, 0, NULL, 0, NULL, NULL, "<T:Ljava/lang/Object;>Ljava/lang/Object;Ljava/lang/Runnable;" };
  return &_RetrofitCallbackRunnable;
}

@end

void RetrofitCallbackRunnable_initWithRetrofitCallback_withJavaUtilConcurrentExecutor_withRetrofitErrorHandler_(RetrofitCallbackRunnable *self, id<RetrofitCallback> callback, id<JavaUtilConcurrentExecutor> callbackExecutor, id<RetrofitErrorHandler> errorHandler) {
  NSObject_init(self);
  self->callback_ = callback;
  self->callbackExecutor_ = callbackExecutor;
  self->errorHandler_ = errorHandler;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RetrofitCallbackRunnable)

@implementation RetrofitCallbackRunnable_$1

- (void)run {
  [((id<RetrofitCallback>) nil_chk(this$0_->callback_)) successWithId:((RetrofitResponseWrapper *) nil_chk(val$wrapper_))->responseBody_ withRetrofitClientResponse:val$wrapper_->response_];
}

- (instancetype)initWithRetrofitCallbackRunnable:(RetrofitCallbackRunnable *)outer$
                     withRetrofitResponseWrapper:(RetrofitResponseWrapper *)capture$0 {
  RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithRetrofitCallbackRunnable:withRetrofitResponseWrapper:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lretrofit.CallbackRunnable;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$wrapper_", NULL, 0x1012, "Lretrofit.ResponseWrapper;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RetrofitCallbackRunnable", "run" };
  static const J2ObjcClassInfo _RetrofitCallbackRunnable_$1 = { 2, "", "retrofit", "CallbackRunnable", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_RetrofitCallbackRunnable_$1;
}

@end

void RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(RetrofitCallbackRunnable_$1 *self, RetrofitCallbackRunnable *outer$, RetrofitResponseWrapper *capture$0) {
  self->this$0_ = outer$;
  self->val$wrapper_ = capture$0;
  NSObject_init(self);
}

RetrofitCallbackRunnable_$1 *new_RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(RetrofitCallbackRunnable *outer$, RetrofitResponseWrapper *capture$0) {
  RetrofitCallbackRunnable_$1 *self = [RetrofitCallbackRunnable_$1 alloc];
  RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(self, outer$, capture$0);
  return self;
}

RetrofitCallbackRunnable_$1 *create_RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(RetrofitCallbackRunnable *outer$, RetrofitResponseWrapper *capture$0) {
  return new_RetrofitCallbackRunnable_$1_initWithRetrofitCallbackRunnable_withRetrofitResponseWrapper_(outer$, capture$0);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RetrofitCallbackRunnable_$1)

@implementation RetrofitCallbackRunnable_$2

- (void)run {
  [((id<RetrofitCallback>) nil_chk(this$0_->callback_)) failureWithRetrofitRetrofitError:val$handled_];
}

- (instancetype)initWithRetrofitCallbackRunnable:(RetrofitCallbackRunnable *)outer$
                       withRetrofitRetrofitError:(RetrofitRetrofitError *)capture$0 {
  RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithRetrofitCallbackRunnable:withRetrofitRetrofitError:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lretrofit.CallbackRunnable;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$handled_", NULL, 0x1012, "Lretrofit.RetrofitError;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "RetrofitCallbackRunnable", "run" };
  static const J2ObjcClassInfo _RetrofitCallbackRunnable_$2 = { 2, "", "retrofit", "CallbackRunnable", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_RetrofitCallbackRunnable_$2;
}

@end

void RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(RetrofitCallbackRunnable_$2 *self, RetrofitCallbackRunnable *outer$, RetrofitRetrofitError *capture$0) {
  self->this$0_ = outer$;
  self->val$handled_ = capture$0;
  NSObject_init(self);
}

RetrofitCallbackRunnable_$2 *new_RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(RetrofitCallbackRunnable *outer$, RetrofitRetrofitError *capture$0) {
  RetrofitCallbackRunnable_$2 *self = [RetrofitCallbackRunnable_$2 alloc];
  RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(self, outer$, capture$0);
  return self;
}

RetrofitCallbackRunnable_$2 *create_RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(RetrofitCallbackRunnable *outer$, RetrofitRetrofitError *capture$0) {
  return new_RetrofitCallbackRunnable_$2_initWithRetrofitCallbackRunnable_withRetrofitRetrofitError_(outer$, capture$0);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RetrofitCallbackRunnable_$2)
