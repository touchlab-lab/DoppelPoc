//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/sourcejava/okhttp/okhttp/src/main/java/com/squareup/okhttp/Request.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "com/squareup/okhttp/CacheControl.h"
#include "com/squareup/okhttp/Headers.h"
#include "com/squareup/okhttp/Request.h"
#include "com/squareup/okhttp/RequestBody.h"
#include "com/squareup/okhttp/internal/Platform.h"
#include "com/squareup/okhttp/internal/Util.h"
#include "com/squareup/okhttp/internal/http/HttpMethod.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/RuntimeException.h"
#include "java/net/MalformedURLException.h"
#include "java/net/URI.h"
#include "java/net/URISyntaxException.h"
#include "java/net/URL.h"
#include "java/util/List.h"

@interface ComSquareupOkhttpRequest () {
 @public
  NSString *urlString_;
  NSString *method_;
  ComSquareupOkhttpHeaders *headers_;
  ComSquareupOkhttpRequestBody *body_;
  id tag_;
  volatile_id url_;
  volatile_id uri_;
  volatile_id cacheControl_;
}

- (instancetype)initWithComSquareupOkhttpRequest_Builder:(ComSquareupOkhttpRequest_Builder *)builder;

@end

J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest, urlString_, NSString *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest, method_, NSString *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest, headers_, ComSquareupOkhttpHeaders *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest, body_, ComSquareupOkhttpRequestBody *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest, tag_, id)
J2OBJC_VOLATILE_FIELD_SETTER(ComSquareupOkhttpRequest, url_, JavaNetURL *)
J2OBJC_VOLATILE_FIELD_SETTER(ComSquareupOkhttpRequest, uri_, JavaNetURI *)
J2OBJC_VOLATILE_FIELD_SETTER(ComSquareupOkhttpRequest, cacheControl_, ComSquareupOkhttpCacheControl *)

__attribute__((unused)) static void ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(ComSquareupOkhttpRequest *self, ComSquareupOkhttpRequest_Builder *builder);

__attribute__((unused)) static ComSquareupOkhttpRequest *new_ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(ComSquareupOkhttpRequest_Builder *builder) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComSquareupOkhttpRequest *create_ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(ComSquareupOkhttpRequest_Builder *builder);

@interface ComSquareupOkhttpRequest_Builder () {
 @public
  NSString *urlString_;
  JavaNetURL *url_;
  NSString *method_;
  ComSquareupOkhttpHeaders_Builder *headers_;
  ComSquareupOkhttpRequestBody *body_;
  id tag_;
}

- (instancetype)initWithComSquareupOkhttpRequest:(ComSquareupOkhttpRequest *)request;

@end

J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest_Builder, urlString_, NSString *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest_Builder, url_, JavaNetURL *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest_Builder, method_, NSString *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest_Builder, headers_, ComSquareupOkhttpHeaders_Builder *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest_Builder, body_, ComSquareupOkhttpRequestBody *)
J2OBJC_FIELD_SETTER(ComSquareupOkhttpRequest_Builder, tag_, id)

__attribute__((unused)) static void ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(ComSquareupOkhttpRequest_Builder *self, ComSquareupOkhttpRequest *request);

__attribute__((unused)) static ComSquareupOkhttpRequest_Builder *new_ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(ComSquareupOkhttpRequest *request) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComSquareupOkhttpRequest_Builder *create_ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(ComSquareupOkhttpRequest *request);

@implementation ComSquareupOkhttpRequest

- (instancetype)initWithComSquareupOkhttpRequest_Builder:(ComSquareupOkhttpRequest_Builder *)builder {
  ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(self, builder);
  return self;
}

- (JavaNetURL *)url {
  @try {
    JavaNetURL *result = JreLoadVolatileId(&url_);
    return result != nil ? result : (JreVolatileStrongAssign(&url_, new_JavaNetURL_initWithNSString_(urlString_)));
  }
  @catch (JavaNetMalformedURLException *e) {
    @throw new_JavaLangRuntimeException_initWithNSString_withNSException_(JreStrcat("$$", @"Malformed URL: ", urlString_), e);
  }
}

- (JavaNetURI *)uri {
  @try {
    JavaNetURI *result = JreLoadVolatileId(&uri_);
    return result != nil ? result : (JreVolatileStrongAssign(&uri_, [((ComSquareupOkhttpInternalPlatform *) nil_chk(ComSquareupOkhttpInternalPlatform_get())) toUriLenientWithJavaNetURL:[self url]]));
  }
  @catch (JavaNetURISyntaxException *e) {
    @throw new_JavaIoIOException_initWithNSString_([((JavaNetURISyntaxException *) nil_chk(e)) getMessage]);
  }
}

- (NSString *)urlString {
  return urlString_;
}

- (NSString *)method {
  return method_;
}

- (ComSquareupOkhttpHeaders *)headers {
  return headers_;
}

- (NSString *)headerWithNSString:(NSString *)name {
  return [((ComSquareupOkhttpHeaders *) nil_chk(headers_)) getWithNSString:name];
}

- (id<JavaUtilList>)headersWithNSString:(NSString *)name {
  return [((ComSquareupOkhttpHeaders *) nil_chk(headers_)) valuesWithNSString:name];
}

- (ComSquareupOkhttpRequestBody *)body {
  return body_;
}

- (id)tag {
  return tag_;
}

- (ComSquareupOkhttpRequest_Builder *)newBuilder {
  return new_ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(self);
}

- (ComSquareupOkhttpCacheControl *)cacheControl {
  ComSquareupOkhttpCacheControl *result = JreLoadVolatileId(&cacheControl_);
  return result != nil ? result : (JreVolatileStrongAssign(&cacheControl_, ComSquareupOkhttpCacheControl_parseWithComSquareupOkhttpHeaders_(headers_)));
}

- (jboolean)isHttps {
  return [((NSString *) nil_chk([((JavaNetURL *) nil_chk([self url])) getProtocol])) isEqual:@"https"];
}

- (NSString *)description {
  return JreStrcat("$$$$$@C", @"Request{method=", method_, @", url=", urlString_, @", tag=", (tag_ != self ? tag_ : nil), '}');
}

- (void)dealloc {
  JreReleaseVolatile(&url_);
  JreReleaseVolatile(&uri_);
  JreReleaseVolatile(&cacheControl_);
}

- (void)__javaClone:(ComSquareupOkhttpRequest *)original {
  [super __javaClone:original];
  JreCloneVolatileStrong(&url_, &original->url_);
  JreCloneVolatileStrong(&uri_, &original->uri_);
  JreCloneVolatileStrong(&cacheControl_, &original->cacheControl_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComSquareupOkhttpRequest_Builder:", "Request", NULL, 0x2, NULL, NULL },
    { "url", NULL, "Ljava.net.URL;", 0x1, NULL, NULL },
    { "uri", NULL, "Ljava.net.URI;", 0x1, "Ljava.io.IOException;", NULL },
    { "urlString", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "method", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "headers", NULL, "Lcom.squareup.okhttp.Headers;", 0x1, NULL, NULL },
    { "headerWithNSString:", "header", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "headersWithNSString:", "headers", "Ljava.util.List;", 0x1, NULL, "(Ljava/lang/String;)Ljava/util/List<Ljava/lang/String;>;" },
    { "body", NULL, "Lcom.squareup.okhttp.RequestBody;", 0x1, NULL, NULL },
    { "tag", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "newBuilder", NULL, "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "cacheControl", NULL, "Lcom.squareup.okhttp.CacheControl;", 0x1, NULL, NULL },
    { "isHttps", NULL, "Z", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "urlString_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "method_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "headers_", NULL, 0x12, "Lcom.squareup.okhttp.Headers;", NULL, NULL, .constantValue.asLong = 0 },
    { "body_", NULL, 0x12, "Lcom.squareup.okhttp.RequestBody;", NULL, NULL, .constantValue.asLong = 0 },
    { "tag_", NULL, 0x12, "Ljava.lang.Object;", NULL, NULL, .constantValue.asLong = 0 },
    { "url_", NULL, 0x42, "Ljava.net.URL;", NULL, NULL, .constantValue.asLong = 0 },
    { "uri_", NULL, 0x42, "Ljava.net.URI;", NULL, NULL, .constantValue.asLong = 0 },
    { "cacheControl_", NULL, 0x42, "Lcom.squareup.okhttp.CacheControl;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lcom.squareup.okhttp.Request$Builder;"};
  static const J2ObjcClassInfo _ComSquareupOkhttpRequest = { 2, "Request", "com.squareup.okhttp", NULL, 0x11, 14, methods, 8, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_ComSquareupOkhttpRequest;
}

@end

void ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(ComSquareupOkhttpRequest *self, ComSquareupOkhttpRequest_Builder *builder) {
  NSObject_init(self);
  self->urlString_ = ((ComSquareupOkhttpRequest_Builder *) nil_chk(builder))->urlString_;
  self->method_ = builder->method_;
  self->headers_ = [((ComSquareupOkhttpHeaders_Builder *) nil_chk(builder->headers_)) build];
  self->body_ = builder->body_;
  self->tag_ = builder->tag_ != nil ? builder->tag_ : self;
  (void) JreVolatileStrongAssign(&self->url_, builder->url_);
}

ComSquareupOkhttpRequest *new_ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(ComSquareupOkhttpRequest_Builder *builder) {
  ComSquareupOkhttpRequest *self = [ComSquareupOkhttpRequest alloc];
  ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(self, builder);
  return self;
}

ComSquareupOkhttpRequest *create_ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(ComSquareupOkhttpRequest_Builder *builder) {
  return new_ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(builder);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComSquareupOkhttpRequest)

@implementation ComSquareupOkhttpRequest_Builder

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComSquareupOkhttpRequest_Builder_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (instancetype)initWithComSquareupOkhttpRequest:(ComSquareupOkhttpRequest *)request {
  ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(self, request);
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)urlWithNSString:(NSString *)url {
  if (url == nil) @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"url == null");
  urlString_ = url;
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)urlWithJavaNetURL:(JavaNetURL *)url {
  if (url == nil) @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"url == null");
  self->url_ = url;
  self->urlString_ = [((JavaNetURL *) nil_chk(url)) description];
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)headerWithNSString:(NSString *)name
                                            withNSString:(NSString *)value {
  (void) [((ComSquareupOkhttpHeaders_Builder *) nil_chk(headers_)) setWithNSString:name withNSString:value];
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)addHeaderWithNSString:(NSString *)name
                                               withNSString:(NSString *)value {
  (void) [((ComSquareupOkhttpHeaders_Builder *) nil_chk(headers_)) addWithNSString:name withNSString:value];
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)removeHeaderWithNSString:(NSString *)name {
  (void) [((ComSquareupOkhttpHeaders_Builder *) nil_chk(headers_)) removeAllWithNSString:name];
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)headersWithComSquareupOkhttpHeaders:(ComSquareupOkhttpHeaders *)headers {
  self->headers_ = [((ComSquareupOkhttpHeaders *) nil_chk(headers)) newBuilder];
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)cacheControlWithComSquareupOkhttpCacheControl:(ComSquareupOkhttpCacheControl *)cacheControl {
  NSString *value = [((ComSquareupOkhttpCacheControl *) nil_chk(cacheControl)) description];
  if ([((NSString *) nil_chk(value)) isEmpty]) return [self removeHeaderWithNSString:@"Cache-Control"];
  return [self headerWithNSString:@"Cache-Control" withNSString:value];
}

- (ComSquareupOkhttpRequest_Builder *)get {
  return [self methodWithNSString:@"GET" withComSquareupOkhttpRequestBody:nil];
}

- (ComSquareupOkhttpRequest_Builder *)head {
  return [self methodWithNSString:@"HEAD" withComSquareupOkhttpRequestBody:nil];
}

- (ComSquareupOkhttpRequest_Builder *)postWithComSquareupOkhttpRequestBody:(ComSquareupOkhttpRequestBody *)body {
  return [self methodWithNSString:@"POST" withComSquareupOkhttpRequestBody:body];
}

- (ComSquareupOkhttpRequest_Builder *)delete__ {
  return [self methodWithNSString:@"DELETE" withComSquareupOkhttpRequestBody:nil];
}

- (ComSquareupOkhttpRequest_Builder *)putWithComSquareupOkhttpRequestBody:(ComSquareupOkhttpRequestBody *)body {
  return [self methodWithNSString:@"PUT" withComSquareupOkhttpRequestBody:body];
}

- (ComSquareupOkhttpRequest_Builder *)patchWithComSquareupOkhttpRequestBody:(ComSquareupOkhttpRequestBody *)body {
  return [self methodWithNSString:@"PATCH" withComSquareupOkhttpRequestBody:body];
}

- (ComSquareupOkhttpRequest_Builder *)methodWithNSString:(NSString *)method
                        withComSquareupOkhttpRequestBody:(ComSquareupOkhttpRequestBody *)body {
  if (method == nil || ((jint) [method length]) == 0) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(@"method == null || method.length() == 0");
  }
  if (body != nil && !ComSquareupOkhttpInternalHttpHttpMethod_permitsRequestBodyWithNSString_(method)) {
    @throw new_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"method ", method, @" must not have a request body."));
  }
  if (body == nil && ComSquareupOkhttpInternalHttpHttpMethod_permitsRequestBodyWithNSString_(method)) {
    body = ComSquareupOkhttpRequestBody_createWithComSquareupOkhttpMediaType_withByteArray_(nil, JreLoadStatic(ComSquareupOkhttpInternalUtil, EMPTY_BYTE_ARRAY));
  }
  self->method_ = method;
  self->body_ = body;
  return self;
}

- (ComSquareupOkhttpRequest_Builder *)tagWithId:(id)tag {
  self->tag_ = tag;
  return self;
}

- (ComSquareupOkhttpRequest *)build {
  if (urlString_ == nil) @throw new_JavaLangIllegalStateException_initWithNSString_(@"url == null");
  return new_ComSquareupOkhttpRequest_initWithComSquareupOkhttpRequest_Builder_(self);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "Builder", NULL, 0x1, NULL, NULL },
    { "initWithComSquareupOkhttpRequest:", "Builder", NULL, 0x2, NULL, NULL },
    { "urlWithNSString:", "url", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "urlWithJavaNetURL:", "url", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "headerWithNSString:withNSString:", "header", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "addHeaderWithNSString:withNSString:", "addHeader", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "removeHeaderWithNSString:", "removeHeader", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "headersWithComSquareupOkhttpHeaders:", "headers", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "cacheControlWithComSquareupOkhttpCacheControl:", "cacheControl", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "get", NULL, "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "head", NULL, "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "postWithComSquareupOkhttpRequestBody:", "post", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "delete__", "delete", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "putWithComSquareupOkhttpRequestBody:", "put", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "patchWithComSquareupOkhttpRequestBody:", "patch", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "methodWithNSString:withComSquareupOkhttpRequestBody:", "method", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "tagWithId:", "tag", "Lcom.squareup.okhttp.Request$Builder;", 0x1, NULL, NULL },
    { "build", NULL, "Lcom.squareup.okhttp.Request;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "urlString_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "url_", NULL, 0x2, "Ljava.net.URL;", NULL, NULL, .constantValue.asLong = 0 },
    { "method_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "headers_", NULL, 0x2, "Lcom.squareup.okhttp.Headers$Builder;", NULL, NULL, .constantValue.asLong = 0 },
    { "body_", NULL, 0x2, "Lcom.squareup.okhttp.RequestBody;", NULL, NULL, .constantValue.asLong = 0 },
    { "tag_", NULL, 0x2, "Ljava.lang.Object;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ComSquareupOkhttpRequest_Builder = { 2, "Builder", "com.squareup.okhttp", "Request", 0x9, 18, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComSquareupOkhttpRequest_Builder;
}

@end

void ComSquareupOkhttpRequest_Builder_init(ComSquareupOkhttpRequest_Builder *self) {
  NSObject_init(self);
  self->method_ = @"GET";
  self->headers_ = new_ComSquareupOkhttpHeaders_Builder_init();
}

ComSquareupOkhttpRequest_Builder *new_ComSquareupOkhttpRequest_Builder_init() {
  ComSquareupOkhttpRequest_Builder *self = [ComSquareupOkhttpRequest_Builder alloc];
  ComSquareupOkhttpRequest_Builder_init(self);
  return self;
}

ComSquareupOkhttpRequest_Builder *create_ComSquareupOkhttpRequest_Builder_init() {
  return new_ComSquareupOkhttpRequest_Builder_init();
}

void ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(ComSquareupOkhttpRequest_Builder *self, ComSquareupOkhttpRequest *request) {
  NSObject_init(self);
  self->urlString_ = ((ComSquareupOkhttpRequest *) nil_chk(request))->urlString_;
  self->url_ = JreLoadVolatileId(&request->url_);
  self->method_ = request->method_;
  self->body_ = request->body_;
  self->tag_ = request->tag_;
  self->headers_ = [((ComSquareupOkhttpHeaders *) nil_chk(request->headers_)) newBuilder];
}

ComSquareupOkhttpRequest_Builder *new_ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(ComSquareupOkhttpRequest *request) {
  ComSquareupOkhttpRequest_Builder *self = [ComSquareupOkhttpRequest_Builder alloc];
  ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(self, request);
  return self;
}

ComSquareupOkhttpRequest_Builder *create_ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(ComSquareupOkhttpRequest *request) {
  return new_ComSquareupOkhttpRequest_Builder_initWithComSquareupOkhttpRequest_(request);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComSquareupOkhttpRequest_Builder)
