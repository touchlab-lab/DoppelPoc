//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/sourcejava/RxJava/src/main/java/rx/subscriptions/BooleanSubscription.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/util/concurrent/atomic/AtomicIntegerFieldUpdater.h"
#include "rx/functions/Action0.h"
#include "rx/subscriptions/BooleanSubscription.h"

@interface RxSubscriptionsBooleanSubscription () {
 @public
  id<RxFunctionsAction0> action_;
}

- (instancetype)initWithRxFunctionsAction0:(id<RxFunctionsAction0>)action;

@end

J2OBJC_FIELD_SETTER(RxSubscriptionsBooleanSubscription, action_, id<RxFunctionsAction0>)

__attribute__((unused)) static void RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(RxSubscriptionsBooleanSubscription *self, id<RxFunctionsAction0> action);

__attribute__((unused)) static RxSubscriptionsBooleanSubscription *new_RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(id<RxFunctionsAction0> action) NS_RETURNS_RETAINED;

__attribute__((unused)) static RxSubscriptionsBooleanSubscription *create_RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(id<RxFunctionsAction0> action);

J2OBJC_INITIALIZED_DEFN(RxSubscriptionsBooleanSubscription)

JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *RxSubscriptionsBooleanSubscription_UNSUBSCRIBED_UPDATER;

@implementation RxSubscriptionsBooleanSubscription

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  RxSubscriptionsBooleanSubscription_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (instancetype)initWithRxFunctionsAction0:(id<RxFunctionsAction0>)action {
  RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(self, action);
  return self;
}

+ (RxSubscriptionsBooleanSubscription *)create {
  return RxSubscriptionsBooleanSubscription_create();
}

+ (RxSubscriptionsBooleanSubscription *)createWithRxFunctionsAction0:(id<RxFunctionsAction0>)onUnsubscribe {
  return RxSubscriptionsBooleanSubscription_createWithRxFunctionsAction0_(onUnsubscribe);
}

- (jboolean)isUnsubscribed {
  return JreLoadVolatileInt(&unsubscribed_) != 0;
}

- (void)unsubscribe {
  if ([((JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater *) nil_chk(RxSubscriptionsBooleanSubscription_UNSUBSCRIBED_UPDATER)) compareAndSetWithId:self withInt:0 withInt:1]) {
    if (action_ != nil) {
      [action_ call];
    }
  }
}

+ (void)initialize {
  if (self == [RxSubscriptionsBooleanSubscription class]) {
    RxSubscriptionsBooleanSubscription_UNSUBSCRIBED_UPDATER = JavaUtilConcurrentAtomicAtomicIntegerFieldUpdater_newUpdaterWithIOSClass_withNSString_(RxSubscriptionsBooleanSubscription_class_(), @"unsubscribed");
    J2OBJC_SET_INITIALIZED(RxSubscriptionsBooleanSubscription)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "BooleanSubscription", NULL, 0x1, NULL, NULL },
    { "initWithRxFunctionsAction0:", "BooleanSubscription", NULL, 0x2, NULL, NULL },
    { "create", NULL, "Lrx.subscriptions.BooleanSubscription;", 0x9, NULL, NULL },
    { "createWithRxFunctionsAction0:", "create", "Lrx.subscriptions.BooleanSubscription;", 0x9, NULL, NULL },
    { "isUnsubscribed", NULL, "Z", 0x1, NULL, NULL },
    { "unsubscribe", NULL, "V", 0x11, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "action_", NULL, 0x12, "Lrx.functions.Action0;", NULL, NULL, .constantValue.asLong = 0 },
    { "unsubscribed_", NULL, 0x40, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "UNSUBSCRIBED_UPDATER", "UNSUBSCRIBED_UPDATER", 0x18, "Ljava.util.concurrent.atomic.AtomicIntegerFieldUpdater;", &RxSubscriptionsBooleanSubscription_UNSUBSCRIBED_UPDATER, "Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater<Lrx/subscriptions/BooleanSubscription;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _RxSubscriptionsBooleanSubscription = { 2, "BooleanSubscription", "rx.subscriptions", NULL, 0x11, 6, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_RxSubscriptionsBooleanSubscription;
}

@end

void RxSubscriptionsBooleanSubscription_init(RxSubscriptionsBooleanSubscription *self) {
  NSObject_init(self);
  self->action_ = nil;
}

RxSubscriptionsBooleanSubscription *new_RxSubscriptionsBooleanSubscription_init() {
  RxSubscriptionsBooleanSubscription *self = [RxSubscriptionsBooleanSubscription alloc];
  RxSubscriptionsBooleanSubscription_init(self);
  return self;
}

RxSubscriptionsBooleanSubscription *create_RxSubscriptionsBooleanSubscription_init() {
  return new_RxSubscriptionsBooleanSubscription_init();
}

void RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(RxSubscriptionsBooleanSubscription *self, id<RxFunctionsAction0> action) {
  NSObject_init(self);
  self->action_ = action;
}

RxSubscriptionsBooleanSubscription *new_RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(id<RxFunctionsAction0> action) {
  RxSubscriptionsBooleanSubscription *self = [RxSubscriptionsBooleanSubscription alloc];
  RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(self, action);
  return self;
}

RxSubscriptionsBooleanSubscription *create_RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(id<RxFunctionsAction0> action) {
  return new_RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(action);
}

RxSubscriptionsBooleanSubscription *RxSubscriptionsBooleanSubscription_create() {
  RxSubscriptionsBooleanSubscription_initialize();
  return new_RxSubscriptionsBooleanSubscription_init();
}

RxSubscriptionsBooleanSubscription *RxSubscriptionsBooleanSubscription_createWithRxFunctionsAction0_(id<RxFunctionsAction0> onUnsubscribe) {
  RxSubscriptionsBooleanSubscription_initialize();
  return new_RxSubscriptionsBooleanSubscription_initWithRxFunctionsAction0_(onUnsubscribe);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RxSubscriptionsBooleanSubscription)
