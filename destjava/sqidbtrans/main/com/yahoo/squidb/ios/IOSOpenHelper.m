//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/squidb/squidb-ios/src/com/yahoo/squidb/ios/IOSOpenHelper.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/yahoo/android/sqlite/SQLiteDatabase.h"
#include "com/yahoo/android/sqlite/SQLiteOpenHelper.h"
#include "com/yahoo/squidb/data/ISQLiteDatabase.h"
#include "com/yahoo/squidb/data/SquidDatabase.h"
#include "com/yahoo/squidb/ios/IOSOpenHelper.h"
#include "com/yahoo/squidb/ios/IOSSQLiteDatabaseAdapter.h"
#include "java/io/File.h"

@interface ComYahooSquidbIosIOSOpenHelper () {
 @public
  ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *delegate_;
}

@end

J2OBJC_FIELD_SETTER(ComYahooSquidbIosIOSOpenHelper, delegate_, ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *)

@implementation ComYahooSquidbIosIOSOpenHelper

- (instancetype)initWithNSString:(NSString *)path
                    withNSString:(NSString *)name
withComYahooSquidbDataSquidDatabase_OpenHelperDelegate:(ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *)delegate
                         withInt:(jint)version_ {
  ComYahooSquidbIosIOSOpenHelper_initWithNSString_withNSString_withComYahooSquidbDataSquidDatabase_OpenHelperDelegate_withInt_(self, path, name, delegate, version_);
  return self;
}

- (id<ComYahooSquidbDataISQLiteDatabase>)openForWriting {
  ComYahooAndroidSqliteSQLiteDatabase *database = [super getWritableDatabase];
  return new_ComYahooSquidbIosIOSSQLiteDatabaseAdapter_initWithComYahooAndroidSqliteSQLiteDatabase_(database);
}

- (NSString *)getDatabasePath {
  return [((JavaIoFile *) nil_chk([self getDatabaseFile])) getAbsolutePath];
}

- (void)onCreateWithComYahooAndroidSqliteSQLiteDatabase:(ComYahooAndroidSqliteSQLiteDatabase *)db {
  [((ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *) nil_chk(delegate_)) onCreateWithComYahooSquidbDataISQLiteDatabase:new_ComYahooSquidbIosIOSSQLiteDatabaseAdapter_initWithComYahooAndroidSqliteSQLiteDatabase_(db)];
}

- (void)onUpgradeWithComYahooAndroidSqliteSQLiteDatabase:(ComYahooAndroidSqliteSQLiteDatabase *)db
                                                 withInt:(jint)oldVersion
                                                 withInt:(jint)newVersion {
  [((ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *) nil_chk(delegate_)) onUpgradeWithComYahooSquidbDataISQLiteDatabase:new_ComYahooSquidbIosIOSSQLiteDatabaseAdapter_initWithComYahooAndroidSqliteSQLiteDatabase_(db) withInt:oldVersion withInt:newVersion];
}

- (void)onDowngradeWithComYahooAndroidSqliteSQLiteDatabase:(ComYahooAndroidSqliteSQLiteDatabase *)db
                                                   withInt:(jint)oldVersion
                                                   withInt:(jint)newVersion {
  [((ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *) nil_chk(delegate_)) onDowngradeWithComYahooSquidbDataISQLiteDatabase:new_ComYahooSquidbIosIOSSQLiteDatabaseAdapter_initWithComYahooAndroidSqliteSQLiteDatabase_(db) withInt:oldVersion withInt:newVersion];
}

- (void)onConfigureWithComYahooAndroidSqliteSQLiteDatabase:(ComYahooAndroidSqliteSQLiteDatabase *)db {
  [((ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *) nil_chk(delegate_)) onConfigureWithComYahooSquidbDataISQLiteDatabase:new_ComYahooSquidbIosIOSSQLiteDatabaseAdapter_initWithComYahooAndroidSqliteSQLiteDatabase_(db)];
}

- (void)onOpenWithComYahooAndroidSqliteSQLiteDatabase:(ComYahooAndroidSqliteSQLiteDatabase *)db {
  [((ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *) nil_chk(delegate_)) onOpenWithComYahooSquidbDataISQLiteDatabase:new_ComYahooSquidbIosIOSSQLiteDatabaseAdapter_initWithComYahooAndroidSqliteSQLiteDatabase_(db)];
}

- (jboolean)deleteDatabase {
  @synchronized(self) {
    JavaIoFile *file = [self getDatabaseFile];
    return file != nil && [file exists] && ComYahooAndroidSqliteSQLiteDatabase_deleteDatabaseWithJavaIoFile_(file);
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withNSString:withComYahooSquidbDataSquidDatabase_OpenHelperDelegate:withInt:", "IOSOpenHelper", NULL, 0x1, NULL, NULL },
    { "openForWriting", NULL, "Lcom.yahoo.squidb.data.ISQLiteDatabase;", 0x1, NULL, NULL },
    { "getDatabasePath", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "onCreateWithComYahooAndroidSqliteSQLiteDatabase:", "onCreate", "V", 0x1, NULL, NULL },
    { "onUpgradeWithComYahooAndroidSqliteSQLiteDatabase:withInt:withInt:", "onUpgrade", "V", 0x1, NULL, NULL },
    { "onDowngradeWithComYahooAndroidSqliteSQLiteDatabase:withInt:withInt:", "onDowngrade", "V", 0x1, NULL, NULL },
    { "onConfigureWithComYahooAndroidSqliteSQLiteDatabase:", "onConfigure", "V", 0x1, NULL, NULL },
    { "onOpenWithComYahooAndroidSqliteSQLiteDatabase:", "onOpen", "V", 0x1, NULL, NULL },
    { "deleteDatabase", NULL, "Z", 0x21, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "delegate_", NULL, 0x12, "Lcom.yahoo.squidb.data.SquidDatabase$OpenHelperDelegate;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ComYahooSquidbIosIOSOpenHelper = { 2, "IOSOpenHelper", "com.yahoo.squidb.ios", NULL, 0x1, 9, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComYahooSquidbIosIOSOpenHelper;
}

@end

void ComYahooSquidbIosIOSOpenHelper_initWithNSString_withNSString_withComYahooSquidbDataSquidDatabase_OpenHelperDelegate_withInt_(ComYahooSquidbIosIOSOpenHelper *self, NSString *path, NSString *name, ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *delegate, jint version_) {
  ComYahooAndroidSqliteSQLiteOpenHelper_initWithNSString_withNSString_withComYahooAndroidSqliteSQLiteDatabase_CursorFactory_withInt_(self, path, name, nil, version_);
  self->delegate_ = delegate;
}

ComYahooSquidbIosIOSOpenHelper *new_ComYahooSquidbIosIOSOpenHelper_initWithNSString_withNSString_withComYahooSquidbDataSquidDatabase_OpenHelperDelegate_withInt_(NSString *path, NSString *name, ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *delegate, jint version_) {
  ComYahooSquidbIosIOSOpenHelper *self = [ComYahooSquidbIosIOSOpenHelper alloc];
  ComYahooSquidbIosIOSOpenHelper_initWithNSString_withNSString_withComYahooSquidbDataSquidDatabase_OpenHelperDelegate_withInt_(self, path, name, delegate, version_);
  return self;
}

ComYahooSquidbIosIOSOpenHelper *create_ComYahooSquidbIosIOSOpenHelper_initWithNSString_withNSString_withComYahooSquidbDataSquidDatabase_OpenHelperDelegate_withInt_(NSString *path, NSString *name, ComYahooSquidbDataSquidDatabase_OpenHelperDelegate *delegate, jint version_) {
  return new_ComYahooSquidbIosIOSOpenHelper_initWithNSString_withNSString_withComYahooSquidbDataSquidDatabase_OpenHelperDelegate_withInt_(path, name, delegate, version_);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbIosIOSOpenHelper)
