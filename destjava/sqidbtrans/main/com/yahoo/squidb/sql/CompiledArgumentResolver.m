//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/squidb/squidb/src/com/yahoo/squidb/sql/CompiledArgumentResolver.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/yahoo/squidb/sql/CompiledArgumentResolver.h"
#include "com/yahoo/squidb/sql/CompiledStatement.h"
#include "com/yahoo/squidb/sql/SqlBuilder.h"
#include "com/yahoo/squidb/sql/SqlStatement.h"
#include "com/yahoo/squidb/sql/SqlUtils.h"
#include "com/yahoo/squidb/utility/Logger.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/LinkedHashMap.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/regex/Matcher.h"
#include "java/util/regex/Pattern.h"

@interface ComYahooSquidbSqlCompiledArgumentResolver () {
 @public
  NSString *compiledSql_;
  id<JavaUtilList> sqlArgs_;
  jboolean needsValidation_;
  id<JavaUtilList> collectionArgs_;
  ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *compiledSqlCache_;
  ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *argArrayCache_;
  IOSObjectArray *compiledArgs_;
}

- (jboolean)hasCollectionArgs;

- (void)findCollectionArgs;

- (NSString *)getCacheKey;

- (NSString *)resolveSqlStringWithNSString:(NSString *)cacheKey
                               withBoolean:(jboolean)largeArgMode;

- (void)appendCollectionVariableStringForSizeWithJavaLangStringBuilder:(JavaLangStringBuilder *)builder
                                                               withInt:(jint)size;

- (IOSObjectArray *)resolveSqlArgumentsWithNSString:(NSString *)cacheKey
                                            withInt:(jint)totalArgSize
                                        withBoolean:(jboolean)largeArgMode;

- (jint)calculateArgsSizeWithCollectionArgs;

- (jint)calculateArgsSizeWithoutCollectionArgs;

- (void)populateCompiledArgsWithBoolean:(jboolean)largeArgMode;

@end

J2OBJC_FIELD_SETTER(ComYahooSquidbSqlCompiledArgumentResolver, compiledSql_, NSString *)
J2OBJC_FIELD_SETTER(ComYahooSquidbSqlCompiledArgumentResolver, sqlArgs_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(ComYahooSquidbSqlCompiledArgumentResolver, collectionArgs_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(ComYahooSquidbSqlCompiledArgumentResolver, compiledSqlCache_, ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *)
J2OBJC_FIELD_SETTER(ComYahooSquidbSqlCompiledArgumentResolver, argArrayCache_, ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *)
J2OBJC_FIELD_SETTER(ComYahooSquidbSqlCompiledArgumentResolver, compiledArgs_, IOSObjectArray *)

inline JavaUtilRegexPattern *ComYahooSquidbSqlCompiledArgumentResolver_get_REPLACEABLE_ARRAY_PARAM_PATTERN();
static JavaUtilRegexPattern *ComYahooSquidbSqlCompiledArgumentResolver_REPLACEABLE_ARRAY_PARAM_PATTERN;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComYahooSquidbSqlCompiledArgumentResolver, REPLACEABLE_ARRAY_PARAM_PATTERN, JavaUtilRegexPattern *)

inline jint ComYahooSquidbSqlCompiledArgumentResolver_get_CACHE_SIZE();
#define ComYahooSquidbSqlCompiledArgumentResolver_CACHE_SIZE 5
J2OBJC_STATIC_FIELD_CONSTANT(ComYahooSquidbSqlCompiledArgumentResolver, CACHE_SIZE, jint)

__attribute__((unused)) static jboolean ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self);

__attribute__((unused)) static void ComYahooSquidbSqlCompiledArgumentResolver_findCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self);

__attribute__((unused)) static NSString *ComYahooSquidbSqlCompiledArgumentResolver_getCacheKey(ComYahooSquidbSqlCompiledArgumentResolver *self);

__attribute__((unused)) static NSString *ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlStringWithNSString_withBoolean_(ComYahooSquidbSqlCompiledArgumentResolver *self, NSString *cacheKey, jboolean largeArgMode);

__attribute__((unused)) static void ComYahooSquidbSqlCompiledArgumentResolver_appendCollectionVariableStringForSizeWithJavaLangStringBuilder_withInt_(ComYahooSquidbSqlCompiledArgumentResolver *self, JavaLangStringBuilder *builder, jint size);

__attribute__((unused)) static IOSObjectArray *ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlArgumentsWithNSString_withInt_withBoolean_(ComYahooSquidbSqlCompiledArgumentResolver *self, NSString *cacheKey, jint totalArgSize, jboolean largeArgMode);

__attribute__((unused)) static jint ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self);

__attribute__((unused)) static jint ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithoutCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self);

__attribute__((unused)) static void ComYahooSquidbSqlCompiledArgumentResolver_populateCompiledArgsWithBoolean_(ComYahooSquidbSqlCompiledArgumentResolver *self, jboolean largeArgMode);

@interface ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache () {
 @public
  jint maxCapacity_;
}

@end

J2OBJC_INITIALIZED_DEFN(ComYahooSquidbSqlCompiledArgumentResolver)

@implementation ComYahooSquidbSqlCompiledArgumentResolver

- (instancetype)initWithComYahooSquidbSqlSqlBuilder:(ComYahooSquidbSqlSqlBuilder *)builder {
  ComYahooSquidbSqlCompiledArgumentResolver_initWithComYahooSquidbSqlSqlBuilder_(self, builder);
  return self;
}

- (jboolean)hasCollectionArgs {
  return ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self);
}

- (void)findCollectionArgs {
  ComYahooSquidbSqlCompiledArgumentResolver_findCollectionArgs(self);
}

- (ComYahooSquidbSqlCompiledStatement *)resolveToCompiledStatement {
  NSString *cacheKey = ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self) ? ComYahooSquidbSqlCompiledArgumentResolver_getCacheKey(self) : nil;
  jint totalArgSize = ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithCollectionArgs(self);
  jboolean largeArgMode = totalArgSize > ComYahooSquidbSqlSqlStatement_MAX_VARIABLE_NUMBER;
  return new_ComYahooSquidbSqlCompiledStatement_initWithNSString_withNSObjectArray_withBoolean_(ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlStringWithNSString_withBoolean_(self, cacheKey, largeArgMode), ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlArgumentsWithNSString_withInt_withBoolean_(self, cacheKey, totalArgSize, largeArgMode), needsValidation_);
}

- (NSString *)getCacheKey {
  return ComYahooSquidbSqlCompiledArgumentResolver_getCacheKey(self);
}

- (NSString *)resolveSqlStringWithNSString:(NSString *)cacheKey
                               withBoolean:(jboolean)largeArgMode {
  return ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlStringWithNSString_withBoolean_(self, cacheKey, largeArgMode);
}

- (void)appendCollectionVariableStringForSizeWithJavaLangStringBuilder:(JavaLangStringBuilder *)builder
                                                               withInt:(jint)size {
  ComYahooSquidbSqlCompiledArgumentResolver_appendCollectionVariableStringForSizeWithJavaLangStringBuilder_withInt_(self, builder, size);
}

- (IOSObjectArray *)resolveSqlArgumentsWithNSString:(NSString *)cacheKey
                                            withInt:(jint)totalArgSize
                                        withBoolean:(jboolean)largeArgMode {
  return ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlArgumentsWithNSString_withInt_withBoolean_(self, cacheKey, totalArgSize, largeArgMode);
}

- (jint)calculateArgsSizeWithCollectionArgs {
  return ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithCollectionArgs(self);
}

- (jint)calculateArgsSizeWithoutCollectionArgs {
  return ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithoutCollectionArgs(self);
}

- (void)populateCompiledArgsWithBoolean:(jboolean)largeArgMode {
  ComYahooSquidbSqlCompiledArgumentResolver_populateCompiledArgsWithBoolean_(self, largeArgMode);
}

+ (void)initialize {
  if (self == [ComYahooSquidbSqlCompiledArgumentResolver class]) {
    ComYahooSquidbSqlCompiledArgumentResolver_REPLACEABLE_ARRAY_PARAM_PATTERN = JavaUtilRegexPattern_compileWithNSString_(ComYahooSquidbSqlSqlStatement_REPLACEABLE_ARRAY_PARAMETER_REGEX);
    J2OBJC_SET_INITIALIZED(ComYahooSquidbSqlCompiledArgumentResolver)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComYahooSquidbSqlSqlBuilder:", "CompiledArgumentResolver", NULL, 0x1, NULL, NULL },
    { "hasCollectionArgs", NULL, "Z", 0x2, NULL, NULL },
    { "findCollectionArgs", NULL, "V", 0x2, NULL, NULL },
    { "resolveToCompiledStatement", NULL, "Lcom.yahoo.squidb.sql.CompiledStatement;", 0x1, NULL, NULL },
    { "getCacheKey", NULL, "Ljava.lang.String;", 0x2, NULL, NULL },
    { "resolveSqlStringWithNSString:withBoolean:", "resolveSqlString", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "appendCollectionVariableStringForSizeWithJavaLangStringBuilder:withInt:", "appendCollectionVariableStringForSize", "V", 0x2, NULL, NULL },
    { "resolveSqlArgumentsWithNSString:withInt:withBoolean:", "resolveSqlArguments", "[Ljava.lang.Object;", 0x2, NULL, NULL },
    { "calculateArgsSizeWithCollectionArgs", NULL, "I", 0x2, NULL, NULL },
    { "calculateArgsSizeWithoutCollectionArgs", NULL, "I", 0x2, NULL, NULL },
    { "populateCompiledArgsWithBoolean:", "populateCompiledArgs", "V", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "REPLACEABLE_ARRAY_PARAM_PATTERN", "REPLACEABLE_ARRAY_PARAM_PATTERN", 0x1a, "Ljava.util.regex.Pattern;", &ComYahooSquidbSqlCompiledArgumentResolver_REPLACEABLE_ARRAY_PARAM_PATTERN, NULL, .constantValue.asLong = 0 },
    { "compiledSql_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "sqlArgs_", NULL, 0x12, "Ljava.util.List;", NULL, "Ljava/util/List<Ljava/lang/Object;>;", .constantValue.asLong = 0 },
    { "needsValidation_", NULL, 0x12, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "collectionArgs_", NULL, 0x2, "Ljava.util.List;", NULL, "Ljava/util/List<Ljava/util/Collection<*>;>;", .constantValue.asLong = 0 },
    { "CACHE_SIZE", "CACHE_SIZE", 0x1a, "I", NULL, NULL, .constantValue.asInt = ComYahooSquidbSqlCompiledArgumentResolver_CACHE_SIZE },
    { "compiledSqlCache_", NULL, 0x2, "Lcom.yahoo.squidb.sql.CompiledArgumentResolver$SimpleLruCache;", NULL, "Lcom/yahoo/squidb/sql/CompiledArgumentResolver$SimpleLruCache<Ljava/lang/String;Ljava/lang/String;>;", .constantValue.asLong = 0 },
    { "argArrayCache_", NULL, 0x2, "Lcom.yahoo.squidb.sql.CompiledArgumentResolver$SimpleLruCache;", NULL, "Lcom/yahoo/squidb/sql/CompiledArgumentResolver$SimpleLruCache<Ljava/lang/String;L[Ljava/lang/Object;;>;", .constantValue.asLong = 0 },
    { "compiledArgs_", NULL, 0x2, "[Ljava.lang.Object;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lcom.yahoo.squidb.sql.CompiledArgumentResolver$SimpleLruCache;"};
  static const J2ObjcClassInfo _ComYahooSquidbSqlCompiledArgumentResolver = { 2, "CompiledArgumentResolver", "com.yahoo.squidb.sql", NULL, 0x0, 11, methods, 9, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_ComYahooSquidbSqlCompiledArgumentResolver;
}

@end

void ComYahooSquidbSqlCompiledArgumentResolver_initWithComYahooSquidbSqlSqlBuilder_(ComYahooSquidbSqlCompiledArgumentResolver *self, ComYahooSquidbSqlSqlBuilder *builder) {
  NSObject_init(self);
  self->compiledArgs_ = nil;
  self->compiledSql_ = [((ComYahooSquidbSqlSqlBuilder *) nil_chk(builder)) getSqlString];
  self->sqlArgs_ = [builder getBoundArguments];
  self->needsValidation_ = [builder needsValidation];
  if ([((NSString *) nil_chk(self->compiledSql_)) contains:ComYahooSquidbSqlSqlStatement_REPLACEABLE_ARRAY_PARAMETER]) {
    self->collectionArgs_ = new_JavaUtilArrayList_init();
    ComYahooSquidbSqlCompiledArgumentResolver_findCollectionArgs(self);
    self->compiledSqlCache_ = new_ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(ComYahooSquidbSqlCompiledArgumentResolver_CACHE_SIZE);
    self->argArrayCache_ = new_ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(ComYahooSquidbSqlCompiledArgumentResolver_CACHE_SIZE);
  }
}

ComYahooSquidbSqlCompiledArgumentResolver *new_ComYahooSquidbSqlCompiledArgumentResolver_initWithComYahooSquidbSqlSqlBuilder_(ComYahooSquidbSqlSqlBuilder *builder) {
  ComYahooSquidbSqlCompiledArgumentResolver *self = [ComYahooSquidbSqlCompiledArgumentResolver alloc];
  ComYahooSquidbSqlCompiledArgumentResolver_initWithComYahooSquidbSqlSqlBuilder_(self, builder);
  return self;
}

ComYahooSquidbSqlCompiledArgumentResolver *create_ComYahooSquidbSqlCompiledArgumentResolver_initWithComYahooSquidbSqlSqlBuilder_(ComYahooSquidbSqlSqlBuilder *builder) {
  return new_ComYahooSquidbSqlCompiledArgumentResolver_initWithComYahooSquidbSqlSqlBuilder_(builder);
}

jboolean ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self) {
  return self->collectionArgs_ != nil;
}

void ComYahooSquidbSqlCompiledArgumentResolver_findCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self) {
  for (id __strong arg in nil_chk(self->sqlArgs_)) {
    if ([JavaUtilCollection_class_() isInstance:arg]) {
      [((id<JavaUtilList>) nil_chk(self->collectionArgs_)) addWithId:(id<JavaUtilCollection>) cast_check(arg, JavaUtilCollection_class_())];
    }
  }
}

NSString *ComYahooSquidbSqlCompiledArgumentResolver_getCacheKey(ComYahooSquidbSqlCompiledArgumentResolver *self) {
  JavaLangStringBuilder *cacheKey = new_JavaLangStringBuilder_init();
  if (ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self)) {
    for (id<JavaUtilCollection> __strong collection in nil_chk(self->collectionArgs_)) {
      (void) [((JavaLangStringBuilder *) nil_chk([cacheKey appendWithInt:[((id<JavaUtilCollection>) nil_chk(collection)) size]])) appendWithNSString:@":"];
    }
  }
  return [cacheKey description];
}

NSString *ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlStringWithNSString_withBoolean_(ComYahooSquidbSqlCompiledArgumentResolver *self, NSString *cacheKey, jboolean largeArgMode) {
  if (ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self)) {
    if (!largeArgMode) {
      NSString *cachedResult = [((ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *) nil_chk(self->compiledSqlCache_)) getWithId:cacheKey];
      if (cachedResult != nil) {
        return cachedResult;
      }
    }
    JavaLangStringBuilder *result = new_JavaLangStringBuilder_initWithInt_(((jint) [((NSString *) nil_chk(self->compiledSql_)) length]));
    JavaUtilRegexMatcher *m = [((JavaUtilRegexPattern *) nil_chk(ComYahooSquidbSqlCompiledArgumentResolver_REPLACEABLE_ARRAY_PARAM_PATTERN)) matcherWithJavaLangCharSequence:self->compiledSql_];
    jint index = 0;
    jint lastStringIndex = 0;
    while ([((JavaUtilRegexMatcher *) nil_chk(m)) find]) {
      (void) [result appendWithNSString:[self->compiledSql_ substring:lastStringIndex endIndex:[m start]]];
      id<JavaUtilCollection> values = [((id<JavaUtilList>) nil_chk(self->collectionArgs_)) getWithInt:index];
      if (largeArgMode) {
        ComYahooSquidbSqlSqlUtils_addInlineCollectionToSqlStringWithJavaLangStringBuilder_withJavaUtilCollection_(result, values);
      }
      else {
        ComYahooSquidbSqlCompiledArgumentResolver_appendCollectionVariableStringForSizeWithJavaLangStringBuilder_withInt_(self, result, [((id<JavaUtilCollection>) nil_chk(values)) size]);
      }
      lastStringIndex = [m end];
      index++;
    }
    (void) [result appendWithNSString:[self->compiledSql_ substring:lastStringIndex endIndex:((jint) [self->compiledSql_ length])]];
    NSString *resultSql = [result description];
    if (!largeArgMode) {
      (void) [((ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *) nil_chk(self->compiledSqlCache_)) putWithId:cacheKey withId:resultSql];
    }
    else {
      ComYahooSquidbUtilityLogger_wWithNSString_withNSString_(ComYahooSquidbUtilityLogger_LOG_TAG, JreStrcat("$$$", @"The SQL statement \"", [resultSql substring:0 endIndex:JavaLangMath_minWithInt_withInt_(200, ((jint) [((NSString *) nil_chk(resultSql)) length]))], @" ...\" had too many arguments to bind, so arguments were inlined into the SQL instead. Consider revising your statement to have fewer arguments."));
    }
    return resultSql;
  }
  else {
    return self->compiledSql_;
  }
}

void ComYahooSquidbSqlCompiledArgumentResolver_appendCollectionVariableStringForSizeWithJavaLangStringBuilder_withInt_(ComYahooSquidbSqlCompiledArgumentResolver *self, JavaLangStringBuilder *builder, jint size) {
  for (jint i = 0; i < size; i++) {
    if (i > 0) {
      (void) [((JavaLangStringBuilder *) nil_chk(builder)) appendWithNSString:@", "];
    }
    (void) [((JavaLangStringBuilder *) nil_chk(builder)) appendWithNSString:ComYahooSquidbSqlSqlStatement_REPLACEABLE_PARAMETER];
  }
}

IOSObjectArray *ComYahooSquidbSqlCompiledArgumentResolver_resolveSqlArgumentsWithNSString_withInt_withBoolean_(ComYahooSquidbSqlCompiledArgumentResolver *self, NSString *cacheKey, jint totalArgSize, jboolean largeArgMode) {
  if (ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self)) {
    IOSObjectArray *cachedResult = [((ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *) nil_chk(self->argArrayCache_)) getWithId:cacheKey];
    if (cachedResult == nil) {
      jint size = largeArgMode ? ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithoutCollectionArgs(self) : totalArgSize;
      if (self->compiledArgs_ == nil || self->compiledArgs_->size_ != size) {
        cachedResult = [IOSObjectArray newArrayWithLength:size type:NSObject_class_()];
      }
      else {
        cachedResult = self->compiledArgs_;
      }
      (void) [self->argArrayCache_ putWithId:cacheKey withId:cachedResult];
    }
    self->compiledArgs_ = cachedResult;
    ComYahooSquidbSqlCompiledArgumentResolver_populateCompiledArgsWithBoolean_(self, largeArgMode);
  }
  else {
    if (self->compiledArgs_ == nil) {
      self->compiledArgs_ = [self->sqlArgs_ toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:[((id<JavaUtilList>) nil_chk(self->sqlArgs_)) size] type:NSObject_class_()]];
    }
  }
  return self->compiledArgs_;
}

jint ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self) {
  jint startSize = [((id<JavaUtilList>) nil_chk(self->sqlArgs_)) size];
  if (ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self)) {
    for (id<JavaUtilCollection> __strong collection in nil_chk(self->collectionArgs_)) {
      startSize += ([((id<JavaUtilCollection>) nil_chk(collection)) size] - 1);
    }
  }
  return startSize;
}

jint ComYahooSquidbSqlCompiledArgumentResolver_calculateArgsSizeWithoutCollectionArgs(ComYahooSquidbSqlCompiledArgumentResolver *self) {
  return [((id<JavaUtilList>) nil_chk(self->sqlArgs_)) size] - (ComYahooSquidbSqlCompiledArgumentResolver_hasCollectionArgs(self) ? [((id<JavaUtilList>) nil_chk(self->collectionArgs_)) size] : 0);
}

void ComYahooSquidbSqlCompiledArgumentResolver_populateCompiledArgsWithBoolean_(ComYahooSquidbSqlCompiledArgumentResolver *self, jboolean largeArgMode) {
  jint i = 0;
  for (id __strong arg in nil_chk(self->sqlArgs_)) {
    if ([JavaUtilCollection_class_() isInstance:arg]) {
      if (!largeArgMode) {
        id<JavaUtilCollection> values = (id<JavaUtilCollection>) cast_check(arg, JavaUtilCollection_class_());
        for (id __strong obj in nil_chk(values)) {
          (void) IOSObjectArray_Set(nil_chk(self->compiledArgs_), i++, obj);
        }
      }
    }
    else {
      (void) IOSObjectArray_Set(nil_chk(self->compiledArgs_), i++, arg);
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbSqlCompiledArgumentResolver)

@implementation ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache

- (instancetype)initWithInt:(jint)maxCapacity {
  ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(self, maxCapacity);
  return self;
}

- (jboolean)removeEldestEntryWithJavaUtilMap_Entry:(id<JavaUtilMap_Entry>)eldest {
  return [self size] > maxCapacity_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:", "SimpleLruCache", NULL, 0x1, NULL, NULL },
    { "removeEldestEntryWithJavaUtilMap_Entry:", "removeEldestEntry", "Z", 0x4, NULL, "(Ljava/util/Map$Entry<TK;TV;>;)Z" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "maxCapacity_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *superclass_type_args[] = {"TK;", "TV;"};
  static const J2ObjcClassInfo _ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache = { 2, "SimpleLruCache", "com.yahoo.squidb.sql", "CompiledArgumentResolver", 0x8, 2, methods, 1, fields, 2, superclass_type_args, 0, NULL, NULL, "<K:Ljava/lang/Object;V:Ljava/lang/Object;>Ljava/util/LinkedHashMap<TK;TV;>;" };
  return &_ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache;
}

@end

void ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *self, jint maxCapacity) {
  JavaUtilLinkedHashMap_initWithInt_withFloat_withBoolean_(self, 0, 0.75f, true);
  self->maxCapacity_ = maxCapacity;
}

ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *new_ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(jint maxCapacity) {
  ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *self = [ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache alloc];
  ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(self, maxCapacity);
  return self;
}

ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache *create_ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(jint maxCapacity) {
  return new_ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache_initWithInt_(maxCapacity);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbSqlCompiledArgumentResolver_SimpleLruCache)
