//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/squidb/squidb/src/com/yahoo/squidb/data/TableModel.java
//

#include "J2ObjC_source.h"
#include "com/yahoo/squidb/data/AbstractModel.h"
#include "com/yahoo/squidb/data/TableModel.h"
#include "com/yahoo/squidb/data/ValuesStorage.h"
#include "com/yahoo/squidb/sql/Property.h"
#include "java/lang/Long.h"

NSString *ComYahooSquidbDataTableModel_DEFAULT_ID_COLUMN = @"_id";
NSString *ComYahooSquidbDataTableModel_ROWID = @"rowid";

@implementation ComYahooSquidbDataTableModel

- (jlong)getId {
  JavaLangLong *id_ = nil;
  NSString *idPropertyName = [((ComYahooSquidbSqlProperty_LongProperty *) nil_chk([self getIdProperty])) getName];
  if (setValues_ != nil && [setValues_ containsKeyWithNSString:idPropertyName]) {
    id_ = (JavaLangLong *) cast_chk([setValues_ getWithNSString:idPropertyName], [JavaLangLong class]);
  }
  else if (values_ != nil && [values_ containsKeyWithNSString:idPropertyName]) {
    id_ = (JavaLangLong *) cast_chk([values_ getWithNSString:idPropertyName], [JavaLangLong class]);
  }
  if (id_ != nil) {
    return [id_ longLongValue];
  }
  return ComYahooSquidbDataTableModel_NO_ID;
}

- (ComYahooSquidbDataTableModel *)setIdWithLong:(jlong)id_ {
  if (id_ == ComYahooSquidbDataTableModel_NO_ID) {
    [self clearValueWithComYahooSquidbSqlProperty:[self getIdProperty]];
  }
  else {
    if (setValues_ == nil) {
      setValues_ = [self newValuesStorage];
    }
    [((ComYahooSquidbDataValuesStorage *) nil_chk(setValues_)) putWithNSString:[((ComYahooSquidbSqlProperty_LongProperty *) nil_chk([self getIdProperty])) getName] withJavaLangLong:JavaLangLong_valueOfWithLong_(id_)];
  }
  return self;
}

- (jboolean)isSaved {
  return [self getId] != ComYahooSquidbDataTableModel_NO_ID;
}

- (ComYahooSquidbSqlProperty_LongProperty *)getIdProperty {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComYahooSquidbDataTableModel_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getId", NULL, "J", 0x1, NULL, NULL },
    { "setIdWithLong:", "setId", "Lcom.yahoo.squidb.data.TableModel;", 0x1, NULL, NULL },
    { "isSaved", NULL, "Z", 0x1, NULL, NULL },
    { "getIdProperty", NULL, "Lcom.yahoo.squidb.sql.Property$LongProperty;", 0x401, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "DEFAULT_ID_COLUMN", "DEFAULT_ID_COLUMN", 0x19, "Ljava.lang.String;", &ComYahooSquidbDataTableModel_DEFAULT_ID_COLUMN, NULL, .constantValue.asLong = 0 },
    { "ROWID", "ROWID", 0x19, "Ljava.lang.String;", &ComYahooSquidbDataTableModel_ROWID, NULL, .constantValue.asLong = 0 },
    { "NO_ID", "NO_ID", 0x19, "J", NULL, NULL, .constantValue.asLong = ComYahooSquidbDataTableModel_NO_ID },
  };
  static const J2ObjcClassInfo _ComYahooSquidbDataTableModel = { 2, "TableModel", "com.yahoo.squidb.data", NULL, 0x401, 5, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComYahooSquidbDataTableModel;
}

@end

void ComYahooSquidbDataTableModel_init(ComYahooSquidbDataTableModel *self) {
  ComYahooSquidbDataAbstractModel_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComYahooSquidbDataTableModel)
