//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/gson/gson/src/main/java/com/google/gson/internal/bind/JsonTreeReader.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "com/google/gson/JsonArray.h"
#include "com/google/gson/JsonElement.h"
#include "com/google/gson/JsonNull.h"
#include "com/google/gson/JsonObject.h"
#include "com/google/gson/JsonPrimitive.h"
#include "com/google/gson/internal/bind/JsonTreeReader.h"
#include "com/google/gson/stream/JsonReader.h"
#include "com/google/gson/stream/JsonToken.h"
#include "java/io/IOException.h"
#include "java/io/Reader.h"
#include "java/lang/AssertionError.h"
#include "java/lang/Double.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/NumberFormatException.h"
#include "java/util/ArrayList.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

@interface ComGoogleGsonInternalBindJsonTreeReader () {
 @public
  id<JavaUtilList> stack_JsonTreeReader_;
}

- (id)peekStack;

- (id)popStack;

- (void)expectWithDPGSStreamJsonToken:(DPGSStreamJsonToken *)expected;

@end

J2OBJC_FIELD_SETTER(ComGoogleGsonInternalBindJsonTreeReader, stack_JsonTreeReader_, id<JavaUtilList>)

inline JavaIoReader *ComGoogleGsonInternalBindJsonTreeReader_get_UNREADABLE_READER();
static JavaIoReader *ComGoogleGsonInternalBindJsonTreeReader_UNREADABLE_READER;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleGsonInternalBindJsonTreeReader, UNREADABLE_READER, JavaIoReader *)

inline id ComGoogleGsonInternalBindJsonTreeReader_get_SENTINEL_CLOSED();
static id ComGoogleGsonInternalBindJsonTreeReader_SENTINEL_CLOSED;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleGsonInternalBindJsonTreeReader, SENTINEL_CLOSED, id)

__attribute__((unused)) static id ComGoogleGsonInternalBindJsonTreeReader_peekStack(ComGoogleGsonInternalBindJsonTreeReader *self);

__attribute__((unused)) static id ComGoogleGsonInternalBindJsonTreeReader_popStack(ComGoogleGsonInternalBindJsonTreeReader *self);

__attribute__((unused)) static void ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(ComGoogleGsonInternalBindJsonTreeReader *self, DPGSStreamJsonToken *expected);

@interface ComGoogleGsonInternalBindJsonTreeReader_$1 : JavaIoReader

- (jint)readWithCharArray:(IOSCharArray *)buffer
                  withInt:(jint)offset
                  withInt:(jint)count;

- (void)close;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(ComGoogleGsonInternalBindJsonTreeReader_$1)

__attribute__((unused)) static void ComGoogleGsonInternalBindJsonTreeReader_$1_init(ComGoogleGsonInternalBindJsonTreeReader_$1 *self);

__attribute__((unused)) static ComGoogleGsonInternalBindJsonTreeReader_$1 *new_ComGoogleGsonInternalBindJsonTreeReader_$1_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleGsonInternalBindJsonTreeReader_$1 *create_ComGoogleGsonInternalBindJsonTreeReader_$1_init();

J2OBJC_TYPE_LITERAL_HEADER(ComGoogleGsonInternalBindJsonTreeReader_$1)

J2OBJC_INITIALIZED_DEFN(ComGoogleGsonInternalBindJsonTreeReader)

@implementation ComGoogleGsonInternalBindJsonTreeReader

- (instancetype)initWithDPGSJsonElement:(DPGSJsonElement *)element {
  ComGoogleGsonInternalBindJsonTreeReader_initWithDPGSJsonElement_(self, element);
  return self;
}

- (void)beginArray {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, BEGIN_ARRAY));
  DPGSJsonArray *array = (DPGSJsonArray *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), [DPGSJsonArray class]);
  [((id<JavaUtilList>) nil_chk(stack_JsonTreeReader_)) addWithId:[((DPGSJsonArray *) nil_chk(array)) iterator]];
}

- (void)endArray {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, END_ARRAY));
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
}

- (void)beginObject {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, BEGIN_OBJECT));
  DPGSJsonObject *object = (DPGSJsonObject *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), [DPGSJsonObject class]);
  [((id<JavaUtilList>) nil_chk(stack_JsonTreeReader_)) addWithId:[((id<JavaUtilSet>) nil_chk([((DPGSJsonObject *) nil_chk(object)) entrySet])) iterator]];
}

- (void)endObject {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, END_OBJECT));
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
}

- (jboolean)hasNext {
  DPGSStreamJsonToken *token = [self peek];
  return token != JreLoadEnum(DPGSStreamJsonToken, END_OBJECT) && token != JreLoadEnum(DPGSStreamJsonToken, END_ARRAY);
}

- (DPGSStreamJsonToken *)peek {
  if ([((id<JavaUtilList>) nil_chk(stack_JsonTreeReader_)) isEmpty]) {
    return JreLoadEnum(DPGSStreamJsonToken, END_DOCUMENT);
  }
  id o = ComGoogleGsonInternalBindJsonTreeReader_peekStack(self);
  if ([JavaUtilIterator_class_() isInstance:o]) {
    jboolean isObject = [[stack_JsonTreeReader_ getWithInt:[stack_JsonTreeReader_ size] - 2] isKindOfClass:[DPGSJsonObject class]];
    id<JavaUtilIterator> iterator = (id<JavaUtilIterator>) cast_check(o, JavaUtilIterator_class_());
    if ([((id<JavaUtilIterator>) nil_chk(iterator)) hasNext]) {
      if (isObject) {
        return JreLoadEnum(DPGSStreamJsonToken, NAME);
      }
      else {
        [stack_JsonTreeReader_ addWithId:[iterator next]];
        return [self peek];
      }
    }
    else {
      return isObject ? JreLoadEnum(DPGSStreamJsonToken, END_OBJECT) : JreLoadEnum(DPGSStreamJsonToken, END_ARRAY);
    }
  }
  else if ([o isKindOfClass:[DPGSJsonObject class]]) {
    return JreLoadEnum(DPGSStreamJsonToken, BEGIN_OBJECT);
  }
  else if ([o isKindOfClass:[DPGSJsonArray class]]) {
    return JreLoadEnum(DPGSStreamJsonToken, BEGIN_ARRAY);
  }
  else if ([o isKindOfClass:[DPGSJsonPrimitive class]]) {
    DPGSJsonPrimitive *primitive = (DPGSJsonPrimitive *) cast_chk(o, [DPGSJsonPrimitive class]);
    if ([((DPGSJsonPrimitive *) nil_chk(primitive)) isString]) {
      return JreLoadEnum(DPGSStreamJsonToken, STRING);
    }
    else if ([primitive isBoolean]) {
      return JreLoadEnum(DPGSStreamJsonToken, BOOLEAN);
    }
    else if ([primitive isNumber]) {
      return JreLoadEnum(DPGSStreamJsonToken, NUMBER);
    }
    else {
      @throw new_JavaLangAssertionError_init();
    }
  }
  else if ([o isKindOfClass:[DPGSJsonNull class]]) {
    return JreLoadEnum(DPGSStreamJsonToken, NULL);
  }
  else if (o == ComGoogleGsonInternalBindJsonTreeReader_SENTINEL_CLOSED) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(@"JsonReader is closed");
  }
  else {
    @throw new_JavaLangAssertionError_init();
  }
}

- (id)peekStack {
  return ComGoogleGsonInternalBindJsonTreeReader_peekStack(self);
}

- (id)popStack {
  return ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
}

- (void)expectWithDPGSStreamJsonToken:(DPGSStreamJsonToken *)expected {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, expected);
}

- (NSString *)nextName {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, NAME));
  id<JavaUtilIterator> i = (id<JavaUtilIterator>) cast_check(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), JavaUtilIterator_class_());
  id<JavaUtilMap_Entry> entry_ = (id<JavaUtilMap_Entry>) cast_check([((id<JavaUtilIterator>) nil_chk(i)) next], JavaUtilMap_Entry_class_());
  [((id<JavaUtilList>) nil_chk(stack_JsonTreeReader_)) addWithId:[((id<JavaUtilMap_Entry>) nil_chk(entry_)) getValue]];
  return (NSString *) cast_chk([entry_ getKey], [NSString class]);
}

- (NSString *)nextString {
  DPGSStreamJsonToken *token = [self peek];
  if (token != JreLoadEnum(DPGSStreamJsonToken, STRING) && token != JreLoadEnum(DPGSStreamJsonToken, NUMBER)) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$@$@", @"Expected ", JreLoadEnum(DPGSStreamJsonToken, STRING), @" but was ", token));
  }
  return [((DPGSJsonPrimitive *) nil_chk(((DPGSJsonPrimitive *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_popStack(self), [DPGSJsonPrimitive class])))) getAsString];
}

- (jboolean)nextBoolean {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, BOOLEAN));
  return [((DPGSJsonPrimitive *) nil_chk(((DPGSJsonPrimitive *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_popStack(self), [DPGSJsonPrimitive class])))) getAsBoolean];
}

- (void)nextNull {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, NULL));
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
}

- (jdouble)nextDouble {
  DPGSStreamJsonToken *token = [self peek];
  if (token != JreLoadEnum(DPGSStreamJsonToken, NUMBER) && token != JreLoadEnum(DPGSStreamJsonToken, STRING)) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$@$@", @"Expected ", JreLoadEnum(DPGSStreamJsonToken, NUMBER), @" but was ", token));
  }
  jdouble result = [((DPGSJsonPrimitive *) nil_chk(((DPGSJsonPrimitive *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), [DPGSJsonPrimitive class])))) getAsDouble];
  if (![self isLenient] && (JavaLangDouble_isNaNWithDouble_(result) || JavaLangDouble_isInfiniteWithDouble_(result))) {
    @throw new_JavaLangNumberFormatException_initWithNSString_(JreStrcat("$D", @"JSON forbids NaN and infinities: ", result));
  }
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
  return result;
}

- (jlong)nextLong {
  DPGSStreamJsonToken *token = [self peek];
  if (token != JreLoadEnum(DPGSStreamJsonToken, NUMBER) && token != JreLoadEnum(DPGSStreamJsonToken, STRING)) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$@$@", @"Expected ", JreLoadEnum(DPGSStreamJsonToken, NUMBER), @" but was ", token));
  }
  jlong result = [((DPGSJsonPrimitive *) nil_chk(((DPGSJsonPrimitive *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), [DPGSJsonPrimitive class])))) getAsLong];
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
  return result;
}

- (jint)nextInt {
  DPGSStreamJsonToken *token = [self peek];
  if (token != JreLoadEnum(DPGSStreamJsonToken, NUMBER) && token != JreLoadEnum(DPGSStreamJsonToken, STRING)) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$@$@", @"Expected ", JreLoadEnum(DPGSStreamJsonToken, NUMBER), @" but was ", token));
  }
  jint result = [((DPGSJsonPrimitive *) nil_chk(((DPGSJsonPrimitive *) cast_chk(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), [DPGSJsonPrimitive class])))) getAsInt];
  (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
  return result;
}

- (void)close {
  [((id<JavaUtilList>) nil_chk(stack_JsonTreeReader_)) clear];
  [stack_JsonTreeReader_ addWithId:ComGoogleGsonInternalBindJsonTreeReader_SENTINEL_CLOSED];
}

- (void)skipValue {
  if ([self peek] == JreLoadEnum(DPGSStreamJsonToken, NAME)) {
    (void) [self nextName];
  }
  else {
    (void) ComGoogleGsonInternalBindJsonTreeReader_popStack(self);
  }
}

- (NSString *)description {
  return [[self getClass] getSimpleName];
}

- (void)promoteNameToValue {
  ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(self, JreLoadEnum(DPGSStreamJsonToken, NAME));
  id<JavaUtilIterator> i = (id<JavaUtilIterator>) cast_check(ComGoogleGsonInternalBindJsonTreeReader_peekStack(self), JavaUtilIterator_class_());
  id<JavaUtilMap_Entry> entry_ = (id<JavaUtilMap_Entry>) cast_check([((id<JavaUtilIterator>) nil_chk(i)) next], JavaUtilMap_Entry_class_());
  [((id<JavaUtilList>) nil_chk(stack_JsonTreeReader_)) addWithId:[((id<JavaUtilMap_Entry>) nil_chk(entry_)) getValue]];
  [stack_JsonTreeReader_ addWithId:new_DPGSJsonPrimitive_initWithNSString_((NSString *) cast_chk([entry_ getKey], [NSString class]))];
}

+ (void)initialize {
  if (self == [ComGoogleGsonInternalBindJsonTreeReader class]) {
    ComGoogleGsonInternalBindJsonTreeReader_UNREADABLE_READER = new_ComGoogleGsonInternalBindJsonTreeReader_$1_init();
    ComGoogleGsonInternalBindJsonTreeReader_SENTINEL_CLOSED = new_NSObject_init();
    J2OBJC_SET_INITIALIZED(ComGoogleGsonInternalBindJsonTreeReader)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithDPGSJsonElement:", "JsonTreeReader", NULL, 0x1, NULL, NULL },
    { "beginArray", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "endArray", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "beginObject", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "endObject", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "hasNext", NULL, "Z", 0x1, "Ljava.io.IOException;", NULL },
    { "peek", NULL, "Lcom.google.gson.stream.JsonToken;", 0x1, "Ljava.io.IOException;", NULL },
    { "peekStack", NULL, "Ljava.lang.Object;", 0x2, NULL, NULL },
    { "popStack", NULL, "Ljava.lang.Object;", 0x2, NULL, NULL },
    { "expectWithDPGSStreamJsonToken:", "expect", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "nextName", NULL, "Ljava.lang.String;", 0x1, "Ljava.io.IOException;", NULL },
    { "nextString", NULL, "Ljava.lang.String;", 0x1, "Ljava.io.IOException;", NULL },
    { "nextBoolean", NULL, "Z", 0x1, "Ljava.io.IOException;", NULL },
    { "nextNull", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "nextDouble", NULL, "D", 0x1, "Ljava.io.IOException;", NULL },
    { "nextLong", NULL, "J", 0x1, "Ljava.io.IOException;", NULL },
    { "nextInt", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "skipValue", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "promoteNameToValue", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "UNREADABLE_READER", "UNREADABLE_READER", 0x1a, "Ljava.io.Reader;", &ComGoogleGsonInternalBindJsonTreeReader_UNREADABLE_READER, NULL, .constantValue.asLong = 0 },
    { "SENTINEL_CLOSED", "SENTINEL_CLOSED", 0x1a, "Ljava.lang.Object;", &ComGoogleGsonInternalBindJsonTreeReader_SENTINEL_CLOSED, NULL, .constantValue.asLong = 0 },
    { "stack_JsonTreeReader_", "stack", 0x12, "Ljava.util.List;", NULL, "Ljava/util/List<Ljava/lang/Object;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ComGoogleGsonInternalBindJsonTreeReader = { 2, "JsonTreeReader", "com.google.gson.internal.bind", NULL, 0x11, 21, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComGoogleGsonInternalBindJsonTreeReader;
}

@end

void ComGoogleGsonInternalBindJsonTreeReader_initWithDPGSJsonElement_(ComGoogleGsonInternalBindJsonTreeReader *self, DPGSJsonElement *element) {
  DPGSStreamJsonReader_initWithJavaIoReader_(self, ComGoogleGsonInternalBindJsonTreeReader_UNREADABLE_READER);
  self->stack_JsonTreeReader_ = new_JavaUtilArrayList_init();
  [self->stack_JsonTreeReader_ addWithId:element];
}

ComGoogleGsonInternalBindJsonTreeReader *new_ComGoogleGsonInternalBindJsonTreeReader_initWithDPGSJsonElement_(DPGSJsonElement *element) {
  ComGoogleGsonInternalBindJsonTreeReader *self = [ComGoogleGsonInternalBindJsonTreeReader alloc];
  ComGoogleGsonInternalBindJsonTreeReader_initWithDPGSJsonElement_(self, element);
  return self;
}

ComGoogleGsonInternalBindJsonTreeReader *create_ComGoogleGsonInternalBindJsonTreeReader_initWithDPGSJsonElement_(DPGSJsonElement *element) {
  return new_ComGoogleGsonInternalBindJsonTreeReader_initWithDPGSJsonElement_(element);
}

id ComGoogleGsonInternalBindJsonTreeReader_peekStack(ComGoogleGsonInternalBindJsonTreeReader *self) {
  return [self->stack_JsonTreeReader_ getWithInt:[((id<JavaUtilList>) nil_chk(self->stack_JsonTreeReader_)) size] - 1];
}

id ComGoogleGsonInternalBindJsonTreeReader_popStack(ComGoogleGsonInternalBindJsonTreeReader *self) {
  return [self->stack_JsonTreeReader_ removeWithInt:[((id<JavaUtilList>) nil_chk(self->stack_JsonTreeReader_)) size] - 1];
}

void ComGoogleGsonInternalBindJsonTreeReader_expectWithDPGSStreamJsonToken_(ComGoogleGsonInternalBindJsonTreeReader *self, DPGSStreamJsonToken *expected) {
  if ([self peek] != expected) {
    @throw new_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$@$@", @"Expected ", expected, @" but was ", [self peek]));
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleGsonInternalBindJsonTreeReader)

@implementation ComGoogleGsonInternalBindJsonTreeReader_$1

- (jint)readWithCharArray:(IOSCharArray *)buffer
                  withInt:(jint)offset
                  withInt:(jint)count {
  @throw new_JavaLangAssertionError_init();
}

- (void)close {
  @throw new_JavaLangAssertionError_init();
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComGoogleGsonInternalBindJsonTreeReader_$1_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readWithCharArray:withInt:withInt:", "read", "I", 0x1, "Ljava.io.IOException;", NULL },
    { "close", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _ComGoogleGsonInternalBindJsonTreeReader_$1 = { 2, "", "com.google.gson.internal.bind", "JsonTreeReader", 0x8008, 3, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComGoogleGsonInternalBindJsonTreeReader_$1;
}

@end

void ComGoogleGsonInternalBindJsonTreeReader_$1_init(ComGoogleGsonInternalBindJsonTreeReader_$1 *self) {
  JavaIoReader_init(self);
}

ComGoogleGsonInternalBindJsonTreeReader_$1 *new_ComGoogleGsonInternalBindJsonTreeReader_$1_init() {
  ComGoogleGsonInternalBindJsonTreeReader_$1 *self = [ComGoogleGsonInternalBindJsonTreeReader_$1 alloc];
  ComGoogleGsonInternalBindJsonTreeReader_$1_init(self);
  return self;
}

ComGoogleGsonInternalBindJsonTreeReader_$1 *create_ComGoogleGsonInternalBindJsonTreeReader_$1_init() {
  return new_ComGoogleGsonInternalBindJsonTreeReader_$1_init();
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleGsonInternalBindJsonTreeReader_$1)
