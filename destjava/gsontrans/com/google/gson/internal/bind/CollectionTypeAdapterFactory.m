//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/gson/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/google/gson/Gson.h"
#include "com/google/gson/TypeAdapter.h"
#include "com/google/gson/internal/$Gson$Types.h"
#include "com/google/gson/internal/ConstructorConstructor.h"
#include "com/google/gson/internal/ObjectConstructor.h"
#include "com/google/gson/internal/bind/CollectionTypeAdapterFactory.h"
#include "com/google/gson/internal/bind/TypeAdapterRuntimeTypeWrapper.h"
#include "com/google/gson/reflect/TypeToken.h"
#include "com/google/gson/stream/JsonReader.h"
#include "com/google/gson/stream/JsonToken.h"
#include "com/google/gson/stream/JsonWriter.h"
#include "java/io/IOException.h"
#include "java/lang/reflect/Type.h"
#include "java/util/Collection.h"

@interface ComGoogleGsonInternalBindCollectionTypeAdapterFactory () {
 @public
  DPGSInternalConstructorConstructor *constructorConstructor_;
}

@end

J2OBJC_FIELD_SETTER(ComGoogleGsonInternalBindCollectionTypeAdapterFactory, constructorConstructor_, DPGSInternalConstructorConstructor *)

@interface ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter : DPGSTypeAdapter {
 @public
  DPGSTypeAdapter *elementTypeAdapter_;
  id<DPGSInternalObjectConstructor> constructor_;
}

- (instancetype)initWithDPGSGson:(DPGSGson *)context
         withJavaLangReflectType:(id<JavaLangReflectType>)elementType
             withDPGSTypeAdapter:(DPGSTypeAdapter *)elementTypeAdapter
withDPGSInternalObjectConstructor:(id<DPGSInternalObjectConstructor>)constructor;

- (id<JavaUtilCollection>)readWithDPGSStreamJsonReader:(DPGSStreamJsonReader *)inArg;

- (void)writeWithDPGSStreamJsonWriter:(DPGSStreamJsonWriter *)outArg
                               withId:(id<JavaUtilCollection>)collection;

@end

J2OBJC_EMPTY_STATIC_INIT(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter)

J2OBJC_FIELD_SETTER(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter, elementTypeAdapter_, DPGSTypeAdapter *)
J2OBJC_FIELD_SETTER(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter, constructor_, id<DPGSInternalObjectConstructor>)

__attribute__((unused)) static void ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *self, DPGSGson *context, id<JavaLangReflectType> elementType, DPGSTypeAdapter *elementTypeAdapter, id<DPGSInternalObjectConstructor> constructor);

__attribute__((unused)) static ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *new_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(DPGSGson *context, id<JavaLangReflectType> elementType, DPGSTypeAdapter *elementTypeAdapter, id<DPGSInternalObjectConstructor> constructor) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *create_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(DPGSGson *context, id<JavaLangReflectType> elementType, DPGSTypeAdapter *elementTypeAdapter, id<DPGSInternalObjectConstructor> constructor);

J2OBJC_TYPE_LITERAL_HEADER(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter)

@implementation ComGoogleGsonInternalBindCollectionTypeAdapterFactory

- (instancetype)initWithDPGSInternalConstructorConstructor:(DPGSInternalConstructorConstructor *)constructorConstructor {
  ComGoogleGsonInternalBindCollectionTypeAdapterFactory_initWithDPGSInternalConstructorConstructor_(self, constructorConstructor);
  return self;
}

- (DPGSTypeAdapter *)createWithDPGSGson:(DPGSGson *)gson
               withDPGSReflectTypeToken:(DPGSReflectTypeToken *)typeToken {
  id<JavaLangReflectType> type = [((DPGSReflectTypeToken *) nil_chk(typeToken)) getType];
  IOSClass *rawType = [typeToken getRawType];
  if (![JavaUtilCollection_class_() isAssignableFrom:rawType]) {
    return nil;
  }
  id<JavaLangReflectType> elementType = DPGSInternal$Gson$Types_getCollectionElementTypeWithJavaLangReflectType_withIOSClass_(type, rawType);
  DPGSTypeAdapter *elementTypeAdapter = [((DPGSGson *) nil_chk(gson)) getAdapterWithDPGSReflectTypeToken:DPGSReflectTypeToken_getWithJavaLangReflectType_(elementType)];
  id<DPGSInternalObjectConstructor> constructor = [((DPGSInternalConstructorConstructor *) nil_chk(constructorConstructor_)) getWithDPGSReflectTypeToken:typeToken];
  DPGSTypeAdapter *result = new_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(gson, elementType, elementTypeAdapter, constructor);
  return result;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithDPGSInternalConstructorConstructor:", "CollectionTypeAdapterFactory", NULL, 0x1, NULL, NULL },
    { "createWithDPGSGson:withDPGSReflectTypeToken:", "create", "Lcom.google.gson.TypeAdapter;", 0x1, NULL, "<T:Ljava/lang/Object;>(Lcom/google/gson/Gson;Lcom/google/gson/reflect/TypeToken<TT;>;)Lcom/google/gson/TypeAdapter<TT;>;" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "constructorConstructor_", NULL, 0x12, "Lcom.google.gson.internal.ConstructorConstructor;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lcom.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter;"};
  static const J2ObjcClassInfo _ComGoogleGsonInternalBindCollectionTypeAdapterFactory = { 2, "CollectionTypeAdapterFactory", "com.google.gson.internal.bind", NULL, 0x11, 2, methods, 1, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_ComGoogleGsonInternalBindCollectionTypeAdapterFactory;
}

@end

void ComGoogleGsonInternalBindCollectionTypeAdapterFactory_initWithDPGSInternalConstructorConstructor_(ComGoogleGsonInternalBindCollectionTypeAdapterFactory *self, DPGSInternalConstructorConstructor *constructorConstructor) {
  NSObject_init(self);
  self->constructorConstructor_ = constructorConstructor;
}

ComGoogleGsonInternalBindCollectionTypeAdapterFactory *new_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_initWithDPGSInternalConstructorConstructor_(DPGSInternalConstructorConstructor *constructorConstructor) {
  ComGoogleGsonInternalBindCollectionTypeAdapterFactory *self = [ComGoogleGsonInternalBindCollectionTypeAdapterFactory alloc];
  ComGoogleGsonInternalBindCollectionTypeAdapterFactory_initWithDPGSInternalConstructorConstructor_(self, constructorConstructor);
  return self;
}

ComGoogleGsonInternalBindCollectionTypeAdapterFactory *create_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_initWithDPGSInternalConstructorConstructor_(DPGSInternalConstructorConstructor *constructorConstructor) {
  return new_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_initWithDPGSInternalConstructorConstructor_(constructorConstructor);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleGsonInternalBindCollectionTypeAdapterFactory)

@implementation ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter

- (instancetype)initWithDPGSGson:(DPGSGson *)context
         withJavaLangReflectType:(id<JavaLangReflectType>)elementType
             withDPGSTypeAdapter:(DPGSTypeAdapter *)elementTypeAdapter
withDPGSInternalObjectConstructor:(id<DPGSInternalObjectConstructor>)constructor {
  ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(self, context, elementType, elementTypeAdapter, constructor);
  return self;
}

- (id<JavaUtilCollection>)readWithDPGSStreamJsonReader:(DPGSStreamJsonReader *)inArg {
  if ([((DPGSStreamJsonReader *) nil_chk(inArg)) peek] == JreLoadEnum(DPGSStreamJsonToken, NULL)) {
    [inArg nextNull];
    return nil;
  }
  id<JavaUtilCollection> collection = [((id<DPGSInternalObjectConstructor>) nil_chk(constructor_)) construct];
  [inArg beginArray];
  while ([inArg hasNext]) {
    id instance = [((DPGSTypeAdapter *) nil_chk(elementTypeAdapter_)) readWithDPGSStreamJsonReader:inArg];
    [((id<JavaUtilCollection>) nil_chk(collection)) addWithId:instance];
  }
  [inArg endArray];
  return collection;
}

- (void)writeWithDPGSStreamJsonWriter:(DPGSStreamJsonWriter *)outArg
                               withId:(id<JavaUtilCollection>)collection {
  if (collection == nil) {
    (void) [((DPGSStreamJsonWriter *) nil_chk(outArg)) nullValue];
    return;
  }
  (void) [((DPGSStreamJsonWriter *) nil_chk(outArg)) beginArray];
  for (id __strong element in nil_chk(collection)) {
    [((DPGSTypeAdapter *) nil_chk(elementTypeAdapter_)) writeWithDPGSStreamJsonWriter:outArg withId:element];
  }
  (void) [outArg endArray];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithDPGSGson:withJavaLangReflectType:withDPGSTypeAdapter:withDPGSInternalObjectConstructor:", "Adapter", NULL, 0x1, NULL, "(Lcom/google/gson/Gson;Ljava/lang/reflect/Type;Lcom/google/gson/TypeAdapter<TE;>;Lcom/google/gson/internal/ObjectConstructor<+Ljava/util/Collection<TE;>;>;)V" },
    { "readWithDPGSStreamJsonReader:", "read", "Ljava.util.Collection;", 0x1, "Ljava.io.IOException;", "(Lcom/google/gson/stream/JsonReader;)Ljava/util/Collection<TE;>;" },
    { "writeWithDPGSStreamJsonWriter:withId:", "write", "V", 0x1, "Ljava.io.IOException;", "(Lcom/google/gson/stream/JsonWriter;Ljava/util/Collection<TE;>;)V" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "elementTypeAdapter_", NULL, 0x12, "Lcom.google.gson.TypeAdapter;", NULL, "Lcom/google/gson/TypeAdapter<TE;>;", .constantValue.asLong = 0 },
    { "constructor_", NULL, 0x12, "Lcom.google.gson.internal.ObjectConstructor;", NULL, "Lcom/google/gson/internal/ObjectConstructor<+Ljava/util/Collection<TE;>;>;", .constantValue.asLong = 0 },
  };
  static const char *superclass_type_args[] = {"Ljava.util.Collection;"};
  static const J2ObjcClassInfo _ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter = { 2, "Adapter", "com.google.gson.internal.bind", "CollectionTypeAdapterFactory", 0x1a, 3, methods, 2, fields, 1, superclass_type_args, 0, NULL, NULL, "<E:Ljava/lang/Object;>Lcom/google/gson/TypeAdapter<Ljava/util/Collection<TE;>;>;" };
  return &_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter;
}

@end

void ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *self, DPGSGson *context, id<JavaLangReflectType> elementType, DPGSTypeAdapter *elementTypeAdapter, id<DPGSInternalObjectConstructor> constructor) {
  DPGSTypeAdapter_init(self);
  self->elementTypeAdapter_ = new_ComGoogleGsonInternalBindTypeAdapterRuntimeTypeWrapper_initWithDPGSGson_withDPGSTypeAdapter_withJavaLangReflectType_(context, elementTypeAdapter, elementType);
  self->constructor_ = constructor;
}

ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *new_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(DPGSGson *context, id<JavaLangReflectType> elementType, DPGSTypeAdapter *elementTypeAdapter, id<DPGSInternalObjectConstructor> constructor) {
  ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *self = [ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter alloc];
  ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(self, context, elementType, elementTypeAdapter, constructor);
  return self;
}

ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter *create_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(DPGSGson *context, id<JavaLangReflectType> elementType, DPGSTypeAdapter *elementTypeAdapter, id<DPGSInternalObjectConstructor> constructor) {
  return new_ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter_initWithDPGSGson_withJavaLangReflectType_withDPGSTypeAdapter_withDPGSInternalObjectConstructor_(context, elementType, elementTypeAdapter, constructor);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleGsonInternalBindCollectionTypeAdapterFactory_Adapter)
