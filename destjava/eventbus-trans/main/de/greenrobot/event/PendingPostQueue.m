//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/kgalligan/devel/xp/sourcejava/EventBus/EventBus/src/de/greenrobot/event/PendingPostQueue.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "de/greenrobot/event/PendingPost.h"
#include "de/greenrobot/event/PendingPostQueue.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/InterruptedException.h"
#include "java/lang/NullPointerException.h"

@interface DeGreenrobotEventPendingPostQueue () {
 @public
  DeGreenrobotEventPendingPost *head_;
  DeGreenrobotEventPendingPost *tail_;
}

@end

J2OBJC_FIELD_SETTER(DeGreenrobotEventPendingPostQueue, head_, DeGreenrobotEventPendingPost *)
J2OBJC_FIELD_SETTER(DeGreenrobotEventPendingPostQueue, tail_, DeGreenrobotEventPendingPost *)

@implementation DeGreenrobotEventPendingPostQueue

- (void)enqueueWithDeGreenrobotEventPendingPost:(DeGreenrobotEventPendingPost *)pendingPost {
  @synchronized(self) {
    if (pendingPost == nil) {
      @throw new_JavaLangNullPointerException_initWithNSString_(@"null cannot be enqueued");
    }
    if (tail_ != nil) {
      tail_->next_ = pendingPost;
      tail_ = pendingPost;
    }
    else if (head_ == nil) {
      head_ = tail_ = pendingPost;
    }
    else {
      @throw new_JavaLangIllegalStateException_initWithNSString_(@"Head present, but no tail");
    }
    [self notifyAll];
  }
}

- (DeGreenrobotEventPendingPost *)poll {
  @synchronized(self) {
    DeGreenrobotEventPendingPost *pendingPost = head_;
    if (head_ != nil) {
      head_ = head_->next_;
      if (head_ == nil) {
        tail_ = nil;
      }
    }
    return pendingPost;
  }
}

- (DeGreenrobotEventPendingPost *)pollWithInt:(jint)maxMillisToWait {
  @synchronized(self) {
    if (head_ == nil) {
      [self waitWithLong:maxMillisToWait];
    }
    return [self poll];
  }
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  DeGreenrobotEventPendingPostQueue_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "enqueueWithDeGreenrobotEventPendingPost:", "enqueue", "V", 0x20, NULL, NULL },
    { "poll", NULL, "Lde.greenrobot.event.PendingPost;", 0x20, NULL, NULL },
    { "pollWithInt:", "poll", "Lde.greenrobot.event.PendingPost;", 0x20, "Ljava.lang.InterruptedException;", NULL },
    { "init", NULL, NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "head_", NULL, 0x2, "Lde.greenrobot.event.PendingPost;", NULL, NULL, .constantValue.asLong = 0 },
    { "tail_", NULL, 0x2, "Lde.greenrobot.event.PendingPost;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _DeGreenrobotEventPendingPostQueue = { 2, "PendingPostQueue", "de.greenrobot.event", NULL, 0x10, 4, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_DeGreenrobotEventPendingPostQueue;
}

@end

void DeGreenrobotEventPendingPostQueue_init(DeGreenrobotEventPendingPostQueue *self) {
  NSObject_init(self);
}

DeGreenrobotEventPendingPostQueue *new_DeGreenrobotEventPendingPostQueue_init() {
  DeGreenrobotEventPendingPostQueue *self = [DeGreenrobotEventPendingPostQueue alloc];
  DeGreenrobotEventPendingPostQueue_init(self);
  return self;
}

DeGreenrobotEventPendingPostQueue *create_DeGreenrobotEventPendingPostQueue_init() {
  return new_DeGreenrobotEventPendingPostQueue_init();
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(DeGreenrobotEventPendingPostQueue)
